/*
 * DO NOT EDIT THIS FILE - it is generated by Glade.
 */

#ifdef HAVE_CONFIG_H
#  include <config.h>
#endif

#include <sys/types.h>
#include <sys/stat.h>
#include <unistd.h>
#include <string.h>

#include <gnome.h>

#include "callbacks.h"
#include "interface.h"
#include "support.h"

static GnomeUIInfo file1_menu_uiinfo[] =
{
  GNOMEUIINFO_MENU_NEW_ITEM (N_("_Neue Datei"), NULL, on_new_file1_activate, NULL),
  GNOMEUIINFO_MENU_OPEN_ITEM (on_open1_activate, NULL),
  GNOMEUIINFO_MENU_SAVE_ITEM (on_save1_activate, NULL),
  GNOMEUIINFO_MENU_SAVE_AS_ITEM (on_save_as1_activate, NULL),
  GNOMEUIINFO_SEPARATOR,
  GNOMEUIINFO_MENU_EXIT_ITEM (on_exit1_activate, NULL),
  GNOMEUIINFO_END
};

static GnomeUIInfo edit1_menu_uiinfo[] =
{
  GNOMEUIINFO_MENU_CUT_ITEM (on_cut1_activate, NULL),
  GNOMEUIINFO_MENU_COPY_ITEM (on_copy1_activate, NULL),
  GNOMEUIINFO_MENU_PASTE_ITEM (on_paste1_activate, NULL),
  GNOMEUIINFO_MENU_CLEAR_ITEM (on_clear1_activate, NULL),
  GNOMEUIINFO_SEPARATOR,
  GNOMEUIINFO_MENU_PROPERTIES_ITEM (on_properties1_activate, NULL),
  GNOMEUIINFO_END
};

static GnomeUIInfo view1_menu_uiinfo[] =
{
  GNOMEUIINFO_END
};

static GnomeUIInfo settings1_menu_uiinfo[] =
{
  GNOMEUIINFO_MENU_PREFERENCES_ITEM (on_preferences1_activate, NULL),
  GNOMEUIINFO_END
};

static GnomeUIInfo help1_menu_uiinfo[] =
{
  GNOMEUIINFO_MENU_ABOUT_ITEM (on_about1_activate, NULL),
  GNOMEUIINFO_END
};

static GnomeUIInfo menubar1_uiinfo[] =
{
  GNOMEUIINFO_MENU_FILE_TREE (file1_menu_uiinfo),
  GNOMEUIINFO_MENU_EDIT_TREE (edit1_menu_uiinfo),
  GNOMEUIINFO_MENU_VIEW_TREE (view1_menu_uiinfo),
  GNOMEUIINFO_MENU_SETTINGS_TREE (settings1_menu_uiinfo),
  GNOMEUIINFO_MENU_HELP_TREE (help1_menu_uiinfo),
  GNOMEUIINFO_END
};

GtkWidget*
create_MainWindow (void)
{
  GtkWidget *MainWindow;
  GtkWidget *dock1;
  GtkWidget *packer1;
  GtkWidget *hboxmain;
  GtkWidget *imageinfo;
  GtkWidget *handlebox2;
  GtkWidget *hbox6;
  GtkWidget *toolbar2;
  GtkWidget *tmp_toolbar_icon;
  GtkWidget *button6;
  GtkWidget *button7;
  GtkWidget *button8;
  GtkWidget *button9;
  GtkWidget *vmbox1;
  GtkWidget *vseparator3;
  GtkWidget *vmtoolbar1;
  GtkWidget *viewlabel1;
  GtkWidget *vmbutton1;
  GtkWidget *vmbutton2;
  GtkWidget *vmbutton3;
  GtkWidget *imageinfonotebook;
  GtkWidget *vbox7;
  GtkWidget *findimage;
  GtkWidget *frame2;
  GtkWidget *hbox4;
  GtkWidget *filesearchtoolbar;
  GtkWidget *homebutton;
  GtkWidget *fileentry1;
  GtkWidget *combo_entry1;
  GtkWidget *scrolledwindow4;
  GtkWidget *dirlist;
  GtkWidget *dirname;
  GtkWidget *frame1;
  GtkWidget *hbox11;
  GSList *showasbuttons_group = NULL;
  GtkWidget *frame1radiobutton1;
  GtkWidget *frame1radiobutton2;
  GtkWidget *frame1nb;
  GtkWidget *scrolledwindow3;
  GtkWidget *imagelist;
  GtkWidget *icon;
  GtkWidget *name;
  GtkWidget *size;
  GtkWidget *date;
  GtkWidget *label33;
  GtkWidget *viewport3;
  GtkWidget *scrolledwindow8;
  GtkWidget *iconlist1;
  GtkWidget *label34;
  GtkWidget *filesearch;
  GtkWidget *frame3;
  GtkWidget *vbox6;
  GtkWidget *filestatframe;
  GtkWidget *imagestatswindow;
  GtkWidget *imagestatsclist;
  GtkWidget *element;
  GtkWidget *value;
  GtkWidget *imagestats;
  GtkWidget *appbar1;
  GtkWidget *imagedisplay;
  GtkWidget *imagedisplaynb;
  GtkWidget *imagedisplay_old;
  GtkWidget *handlebox1;
  GtkWidget *hbox3;
  GtkWidget *bgcolorbox;
  GtkWidget *bgcolorlabel;
  GtkWidget *bgcolorsw;
  GtkWidget *bgcolorvp;
  GtkWidget *bgcolorpixmap;
  GtkWidget *bgcoloruselabel;
  GtkWidget *bgcoloruse;
  GtkWidget *vseparator1;
  GtkWidget *Zoombox;
  GtkWidget *zoomlabel;
  GtkWidget *zoombox2;
  GtkObject *zoomentry_adj;
  GtkWidget *zoomentry;
  GtkWidget *zoomm25;
  GtkWidget *zoomp25;
  GtkWidget *zoom100;
  GtkWidget *autozoom;
  GtkWidget *vmbox2;
  GtkWidget *vseparator2;
  GtkWidget *vmtoolbar2;
  GtkWidget *Viewlabell2;
  GtkWidget *vmbutton4;
  GtkWidget *vmbutton5;
  GtkWidget *vmbutton6;
  GtkWidget *scrolledwindow6;
  GtkWidget *viewport1;
  GtkWidget *image;
  GtkWidget *label29;
  GtkWidget *imageiconview;
  GtkWidget *viewport2;
  GtkWidget *scrolledwindow7;
  GtkWidget *iconlist;
  GtkWidget *handlebox3;
  GtkWidget *toolbar3;
  GtkWidget *hbox10;
  GtkWidget *label35;
  GtkWidget *vmbox3;
  GtkWidget *vseparator4;
  GtkWidget *vmtoolbar3;
  GtkWidget *label31;
  GtkWidget *vmbutton9;
  GtkWidget *vmbutton10;
  GtkWidget *vmbutton11;
  GtkWidget *label30;
  GtkWidget *appbarbox;
  GtkWidget *appbar2;
  GtkWidget *progressbar1;
  GtkWidget *appbar0;
  GtkAccelGroup *accel_group;

  accel_group = gtk_accel_group_new ();

  MainWindow = gnome_app_new ("Look_at_the_stars", _("Look at the stars"));
  gtk_object_set_data (GTK_OBJECT (MainWindow), "MainWindow", MainWindow);
  gtk_widget_set_events (MainWindow, GDK_BUTTON_MOTION_MASK | GDK_BUTTON1_MOTION_MASK | GDK_BUTTON2_MOTION_MASK | GDK_BUTTON3_MOTION_MASK | GDK_BUTTON_PRESS_MASK | GDK_BUTTON_RELEASE_MASK | GDK_KEY_PRESS_MASK | GDK_KEY_RELEASE_MASK);
  gtk_widget_set_extension_events (MainWindow, GDK_EXTENSION_EVENTS_ALL);
  gtk_window_set_position (GTK_WINDOW (MainWindow), GTK_WIN_POS_CENTER);
  gtk_window_set_default_size (GTK_WINDOW (MainWindow), 800, 600);
  gtk_window_set_policy (GTK_WINDOW (MainWindow), FALSE, TRUE, TRUE);

  dock1 = GNOME_APP (MainWindow)->dock;
  gtk_widget_ref (dock1);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "dock1", dock1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (dock1);

  gnome_app_create_menus (GNOME_APP (MainWindow), menubar1_uiinfo);

  gtk_widget_ref (menubar1_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "file1",
                            menubar1_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (file1_menu_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "new_file1",
                            file1_menu_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (file1_menu_uiinfo[1].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "open1",
                            file1_menu_uiinfo[1].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (file1_menu_uiinfo[2].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "save1",
                            file1_menu_uiinfo[2].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (file1_menu_uiinfo[3].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "save_as1",
                            file1_menu_uiinfo[3].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (file1_menu_uiinfo[4].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "separator1",
                            file1_menu_uiinfo[4].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (file1_menu_uiinfo[5].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "exit1",
                            file1_menu_uiinfo[5].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (menubar1_uiinfo[1].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "edit1",
                            menubar1_uiinfo[1].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (edit1_menu_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "cut1",
                            edit1_menu_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (edit1_menu_uiinfo[1].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "copy1",
                            edit1_menu_uiinfo[1].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (edit1_menu_uiinfo[2].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "paste1",
                            edit1_menu_uiinfo[2].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (edit1_menu_uiinfo[3].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "clear1",
                            edit1_menu_uiinfo[3].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (edit1_menu_uiinfo[4].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "separator2",
                            edit1_menu_uiinfo[4].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (edit1_menu_uiinfo[5].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "properties1",
                            edit1_menu_uiinfo[5].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (menubar1_uiinfo[2].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "view1",
                            menubar1_uiinfo[2].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (menubar1_uiinfo[3].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "settings1",
                            menubar1_uiinfo[3].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (settings1_menu_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "preferences1",
                            settings1_menu_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (menubar1_uiinfo[4].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "help1",
                            menubar1_uiinfo[4].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (help1_menu_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "about1",
                            help1_menu_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  packer1 = gtk_packer_new ();
  gtk_widget_ref (packer1);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "packer1", packer1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (packer1);
  gnome_app_set_contents (GNOME_APP (MainWindow), packer1);

  hboxmain = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hboxmain);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "hboxmain", hboxmain,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hboxmain);
  gtk_packer_add_defaults (GTK_PACKER (packer1), hboxmain, GTK_SIDE_TOP,
                           GTK_ANCHOR_CENTER, (GtkPackerOptions) (GTK_PACK_EXPAND | GTK_FILL_X | GTK_FILL_Y));

  imageinfo = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (imageinfo);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "imageinfo", imageinfo,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (imageinfo);
  gtk_box_pack_start (GTK_BOX (hboxmain), imageinfo, FALSE, TRUE, 0);
  gtk_widget_set_usize (imageinfo, 300, -2);

  handlebox2 = gtk_handle_box_new ();
  gtk_widget_ref (handlebox2);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "handlebox2", handlebox2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (handlebox2);
  gtk_box_pack_start (GTK_BOX (imageinfo), handlebox2, FALSE, TRUE, 0);
  gtk_widget_set_usize (handlebox2, -2, 34);

  hbox6 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox6);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "hbox6", hbox6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox6);
  gtk_container_add (GTK_CONTAINER (handlebox2), hbox6);

  toolbar2 = gtk_toolbar_new (GTK_ORIENTATION_HORIZONTAL, GTK_TOOLBAR_ICONS);
  gtk_widget_ref (toolbar2);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "toolbar2", toolbar2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (toolbar2);
  gtk_box_pack_start (GTK_BOX (hbox6), toolbar2, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (toolbar2), 1);
  gtk_toolbar_set_space_size (GTK_TOOLBAR (toolbar2), 16);
  gtk_toolbar_set_space_style (GTK_TOOLBAR (toolbar2), GTK_TOOLBAR_SPACE_LINE);
  gtk_toolbar_set_button_relief (GTK_TOOLBAR (toolbar2), GTK_RELIEF_NONE);

  tmp_toolbar_icon = gnome_stock_pixmap_widget (MainWindow, GNOME_STOCK_PIXMAP_NEW);
  button6 = gtk_toolbar_append_element (GTK_TOOLBAR (toolbar2),
                                GTK_TOOLBAR_CHILD_BUTTON,
                                NULL,
                                _("Neu"),
                                _("Neue Datei"), NULL,
                                tmp_toolbar_icon, NULL, NULL);
  gtk_widget_ref (button6);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "button6", button6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button6);

  tmp_toolbar_icon = gnome_stock_pixmap_widget (MainWindow, GNOME_STOCK_PIXMAP_OPEN);
  button7 = gtk_toolbar_append_element (GTK_TOOLBAR (toolbar2),
                                GTK_TOOLBAR_CHILD_BUTTON,
                                NULL,
                                _("Öffnen"),
                                _("Datei öffnen"), NULL,
                                tmp_toolbar_icon, NULL, NULL);
  gtk_widget_ref (button7);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "button7", button7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button7);

  tmp_toolbar_icon = gnome_stock_pixmap_widget (MainWindow, GNOME_STOCK_PIXMAP_SAVE);
  button8 = gtk_toolbar_append_element (GTK_TOOLBAR (toolbar2),
                                GTK_TOOLBAR_CHILD_BUTTON,
                                NULL,
                                _("Speichern"),
                                _("Datei speichern"), NULL,
                                tmp_toolbar_icon, NULL, NULL);
  gtk_widget_ref (button8);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "button8", button8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button8);

  tmp_toolbar_icon = gnome_stock_pixmap_widget (MainWindow, GNOME_STOCK_PIXMAP_REFRESH);
  button9 = gtk_toolbar_append_element (GTK_TOOLBAR (toolbar2),
                                GTK_TOOLBAR_CHILD_BUTTON,
                                NULL,
                                _("Auffrischen"),
                                NULL, NULL,
                                tmp_toolbar_icon, NULL, NULL);
  gtk_widget_ref (button9);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "button9", button9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button9);

  vmbox1 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (vmbox1);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vmbox1", vmbox1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vmbox1);
  gtk_box_pack_start (GTK_BOX (hbox6), vmbox1, TRUE, TRUE, 0);

  vseparator3 = gtk_vseparator_new ();
  gtk_widget_ref (vseparator3);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vseparator3", vseparator3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vseparator3);
  gtk_box_pack_start (GTK_BOX (vmbox1), vseparator3, TRUE, TRUE, 0);

  vmtoolbar1 = gtk_toolbar_new (GTK_ORIENTATION_HORIZONTAL, GTK_TOOLBAR_ICONS);
  gtk_widget_ref (vmtoolbar1);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vmtoolbar1", vmtoolbar1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vmtoolbar1);
  gtk_box_pack_start (GTK_BOX (vmbox1), vmtoolbar1, TRUE, FALSE, 5);
  gtk_toolbar_set_button_relief (GTK_TOOLBAR (vmtoolbar1), GTK_RELIEF_NONE);

  viewlabel1 = gtk_label_new (_("View"));
  gtk_widget_ref (viewlabel1);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "viewlabel1", viewlabel1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (viewlabel1);
  gtk_toolbar_append_widget (GTK_TOOLBAR (vmtoolbar1), viewlabel1, NULL, NULL);
  gtk_misc_set_padding (GTK_MISC (viewlabel1), 5, 0);

  tmp_toolbar_icon = gnome_stock_pixmap_widget (MainWindow, GNOME_STOCK_PIXMAP_INDEX);
  vmbutton1 = gtk_toolbar_append_element (GTK_TOOLBAR (vmtoolbar1),
                                GTK_TOOLBAR_CHILD_BUTTON,
                                NULL,
                                _("file view"),
                                _("file view"), NULL,
                                tmp_toolbar_icon, NULL, NULL);
  gtk_widget_ref (vmbutton1);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vmbutton1", vmbutton1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vmbutton1);

  tmp_toolbar_icon = gnome_stock_pixmap_widget (MainWindow, GNOME_STOCK_PIXMAP_TABLE_FILL);
  vmbutton2 = gtk_toolbar_append_element (GTK_TOOLBAR (vmtoolbar1),
                                GTK_TOOLBAR_CHILD_BUTTON,
                                NULL,
                                _("splitted view"),
                                _("splitted view"), NULL,
                                tmp_toolbar_icon, NULL, NULL);
  gtk_widget_ref (vmbutton2);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vmbutton2", vmbutton2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vmbutton2);

  tmp_toolbar_icon = gnome_stock_pixmap_widget (MainWindow, GNOME_STOCK_PIXMAP_COLORSELECTOR);
  vmbutton3 = gtk_toolbar_append_element (GTK_TOOLBAR (vmtoolbar1),
                                GTK_TOOLBAR_CHILD_BUTTON,
                                NULL,
                                _("image view"),
                                _("image view"), NULL,
                                tmp_toolbar_icon, NULL, NULL);
  gtk_widget_ref (vmbutton3);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vmbutton3", vmbutton3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vmbutton3);

  imageinfonotebook = gtk_notebook_new ();
  gtk_widget_ref (imageinfonotebook);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "imageinfonotebook", imageinfonotebook,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (imageinfonotebook);
  gtk_box_pack_start (GTK_BOX (imageinfo), imageinfonotebook, TRUE, TRUE, 0);
  gtk_widget_set_usize (imageinfonotebook, 266, -2);
  gtk_container_set_border_width (GTK_CONTAINER (imageinfonotebook), 3);
  gtk_notebook_set_scrollable (GTK_NOTEBOOK (imageinfonotebook), TRUE);
  gtk_notebook_set_tab_hborder (GTK_NOTEBOOK (imageinfonotebook), 15);

  vbox7 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox7);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vbox7", vbox7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox7);
  gtk_container_add (GTK_CONTAINER (imageinfonotebook), vbox7);

  findimage = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (findimage);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "findimage", findimage,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (findimage);
  gtk_box_pack_start (GTK_BOX (vbox7), findimage, TRUE, TRUE, 0);

  frame2 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (frame2);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "frame2", frame2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame2);
  gtk_box_pack_start (GTK_BOX (findimage), frame2, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame2), 5);

  hbox4 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox4);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "hbox4", hbox4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox4);
  gtk_box_pack_start (GTK_BOX (frame2), hbox4, FALSE, FALSE, 0);

  filesearchtoolbar = gtk_toolbar_new (GTK_ORIENTATION_HORIZONTAL, GTK_TOOLBAR_ICONS);
  gtk_widget_ref (filesearchtoolbar);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "filesearchtoolbar", filesearchtoolbar,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (filesearchtoolbar);
  gtk_box_pack_start (GTK_BOX (hbox4), filesearchtoolbar, FALSE, FALSE, 0);

  tmp_toolbar_icon = gnome_stock_pixmap_widget (MainWindow, GNOME_STOCK_PIXMAP_HOME);
  homebutton = gtk_toolbar_append_element (GTK_TOOLBAR (filesearchtoolbar),
                                GTK_TOOLBAR_CHILD_BUTTON,
                                NULL,
                                "",
                                NULL, NULL,
                                tmp_toolbar_icon, NULL, NULL);
  gtk_widget_ref (homebutton);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "homebutton", homebutton,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (homebutton);

  fileentry1 = gnome_file_entry_new (NULL, NULL);
  gtk_widget_ref (fileentry1);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "fileentry1", fileentry1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (fileentry1);
  gtk_box_pack_start (GTK_BOX (hbox4), fileentry1, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (fileentry1), 2);
  GTK_WIDGET_SET_FLAGS (fileentry1, GTK_CAN_FOCUS);
  GTK_WIDGET_SET_FLAGS (fileentry1, GTK_CAN_DEFAULT);
  gnome_file_entry_set_directory (GNOME_FILE_ENTRY (fileentry1), TRUE);

  combo_entry1 = gnome_file_entry_gtk_entry (GNOME_FILE_ENTRY (fileentry1));
  gtk_widget_ref (combo_entry1);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "combo_entry1", combo_entry1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (combo_entry1);
  GTK_WIDGET_SET_FLAGS (combo_entry1, GTK_CAN_DEFAULT);
  gtk_entry_set_text (GTK_ENTRY (combo_entry1), _("~/"));

  scrolledwindow4 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow4);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "scrolledwindow4", scrolledwindow4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow4);
  gtk_box_pack_start (GTK_BOX (frame2), scrolledwindow4, TRUE, TRUE, 0);
  gtk_widget_set_usize (scrolledwindow4, -2, 120);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow4), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  dirlist = gtk_clist_new (1);
  gtk_widget_ref (dirlist);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "dirlist", dirlist,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (dirlist);
  gtk_container_add (GTK_CONTAINER (scrolledwindow4), dirlist);
  GTK_WIDGET_UNSET_FLAGS (dirlist, GTK_CAN_FOCUS);
  gtk_clist_set_column_width (GTK_CLIST (dirlist), 0, 80);
  gtk_clist_column_titles_hide (GTK_CLIST (dirlist));

  dirname = gtk_label_new (_("directories found here"));
  gtk_widget_ref (dirname);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "dirname", dirname,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (dirname);
  gtk_clist_set_column_widget (GTK_CLIST (dirlist), 0, dirname);

  frame1 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (frame1);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "frame1", frame1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame1);
  gtk_box_pack_start (GTK_BOX (findimage), frame1, TRUE, TRUE, 0);

  hbox11 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox11);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "hbox11", hbox11,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox11);
  gtk_box_pack_start (GTK_BOX (frame1), hbox11, FALSE, FALSE, 0);

  frame1radiobutton1 = gtk_radio_button_new_with_label (showasbuttons_group, _("show as list"));
  showasbuttons_group = gtk_radio_button_group (GTK_RADIO_BUTTON (frame1radiobutton1));
  gtk_widget_ref (frame1radiobutton1);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "frame1radiobutton1", frame1radiobutton1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame1radiobutton1);
  gtk_box_pack_start (GTK_BOX (hbox11), frame1radiobutton1, TRUE, FALSE, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (frame1radiobutton1), TRUE);

  frame1radiobutton2 = gtk_radio_button_new_with_label (showasbuttons_group, _("show as icons"));
  showasbuttons_group = gtk_radio_button_group (GTK_RADIO_BUTTON (frame1radiobutton2));
  gtk_widget_ref (frame1radiobutton2);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "frame1radiobutton2", frame1radiobutton2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame1radiobutton2);
  gtk_box_pack_start (GTK_BOX (hbox11), frame1radiobutton2, TRUE, FALSE, 0);

  frame1nb = gtk_notebook_new ();
  gtk_widget_ref (frame1nb);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "frame1nb", frame1nb,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame1nb);
  gtk_box_pack_start (GTK_BOX (frame1), frame1nb, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame1nb), 5);
  gtk_notebook_set_show_border (GTK_NOTEBOOK (frame1nb), FALSE);

  scrolledwindow3 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow3);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "scrolledwindow3", scrolledwindow3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow3);
  gtk_container_add (GTK_CONTAINER (frame1nb), scrolledwindow3);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow3), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  imagelist = gtk_clist_new (4);
  gtk_widget_ref (imagelist);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "imagelist", imagelist,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (imagelist);
  gtk_container_add (GTK_CONTAINER (scrolledwindow3), imagelist);
  GTK_WIDGET_UNSET_FLAGS (imagelist, GTK_CAN_FOCUS);
  gtk_clist_set_column_width (GTK_CLIST (imagelist), 0, 48);
  gtk_clist_set_column_width (GTK_CLIST (imagelist), 1, 168);
  gtk_clist_set_column_width (GTK_CLIST (imagelist), 2, 113);
  gtk_clist_set_column_width (GTK_CLIST (imagelist), 3, 101);
  gtk_clist_column_titles_show (GTK_CLIST (imagelist));

  icon = gtk_label_new (_("image"));
  gtk_widget_ref (icon);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "icon", icon,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (icon);
  gtk_clist_set_column_widget (GTK_CLIST (imagelist), 0, icon);

  name = gtk_label_new (_("name"));
  gtk_widget_ref (name);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "name", name,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (name);
  gtk_clist_set_column_widget (GTK_CLIST (imagelist), 1, name);

  size = gtk_label_new (_("size"));
  gtk_widget_ref (size);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "size", size,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (size);
  gtk_clist_set_column_widget (GTK_CLIST (imagelist), 2, size);

  date = gtk_label_new (_("date"));
  gtk_widget_ref (date);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "date", date,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (date);
  gtk_clist_set_column_widget (GTK_CLIST (imagelist), 3, date);

  label33 = gtk_label_new (_("iconlist"));
  gtk_widget_ref (label33);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "label33", label33,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label33);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (frame1nb), gtk_notebook_get_nth_page (GTK_NOTEBOOK (frame1nb), 0), label33);

  viewport3 = gtk_viewport_new (NULL, NULL);
  gtk_widget_ref (viewport3);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "viewport3", viewport3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (viewport3);
  gtk_container_add (GTK_CONTAINER (frame1nb), viewport3);

  scrolledwindow8 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow8);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "scrolledwindow8", scrolledwindow8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow8);
  gtk_container_add (GTK_CONTAINER (viewport3), scrolledwindow8);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow8), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  iconlist1 = gnome_icon_list_new_flags (100, NULL, GNOME_ICON_LIST_IS_EDITABLE);
  gtk_widget_ref (iconlist1);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "iconlist1", iconlist1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iconlist1);
  gtk_container_add (GTK_CONTAINER (scrolledwindow8), iconlist1);
  GTK_WIDGET_SET_FLAGS (iconlist1, GTK_CAN_DEFAULT);
  gnome_icon_list_set_row_spacing (GNOME_ICON_LIST (iconlist1), 10);
  gnome_icon_list_set_col_spacing (GNOME_ICON_LIST (iconlist1), 5);

  label34 = gtk_label_new (_("iconview"));
  gtk_widget_ref (label34);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "label34", label34,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label34);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (frame1nb), gtk_notebook_get_nth_page (GTK_NOTEBOOK (frame1nb), 1), label34);

  filesearch = gtk_label_new (_("filesearch"));
  gtk_widget_ref (filesearch);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "filesearch", filesearch,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (filesearch);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (imageinfonotebook), gtk_notebook_get_nth_page (GTK_NOTEBOOK (imageinfonotebook), 0), filesearch);

  frame3 = gtk_frame_new (NULL);
  gtk_widget_ref (frame3);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "frame3", frame3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame3);
  gtk_container_add (GTK_CONTAINER (imageinfonotebook), frame3);
  gtk_widget_set_sensitive (frame3, FALSE);
  gtk_frame_set_shadow_type (GTK_FRAME (frame3), GTK_SHADOW_NONE);

  vbox6 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox6);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vbox6", vbox6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox6);
  gtk_container_add (GTK_CONTAINER (frame3), vbox6);

  filestatframe = gtk_frame_new (_("actual shown image statistics"));
  gtk_widget_ref (filestatframe);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "filestatframe", filestatframe,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (filestatframe);
  gtk_box_pack_start (GTK_BOX (vbox6), filestatframe, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (filestatframe), 5);

  imagestatswindow = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (imagestatswindow);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "imagestatswindow", imagestatswindow,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (imagestatswindow);
  gtk_container_add (GTK_CONTAINER (filestatframe), imagestatswindow);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (imagestatswindow), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  imagestatsclist = gtk_clist_new (2);
  gtk_widget_ref (imagestatsclist);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "imagestatsclist", imagestatsclist,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (imagestatsclist);
  gtk_container_add (GTK_CONTAINER (imagestatswindow), imagestatsclist);
  gtk_container_set_border_width (GTK_CONTAINER (imagestatsclist), 5);
  GTK_WIDGET_SET_FLAGS (imagestatsclist, GTK_CAN_DEFAULT);
  gtk_clist_set_column_width (GTK_CLIST (imagestatsclist), 0, 60);
  gtk_clist_set_column_width (GTK_CLIST (imagestatsclist), 1, 80);
  gtk_clist_column_titles_hide (GTK_CLIST (imagestatsclist));

  element = gtk_label_new (_("element"));
  gtk_widget_ref (element);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "element", element,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (element);
  gtk_clist_set_column_widget (GTK_CLIST (imagestatsclist), 0, element);
  gtk_label_set_line_wrap (GTK_LABEL (element), TRUE);

  value = gtk_label_new (_("value"));
  gtk_widget_ref (value);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "value", value,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (value);
  gtk_clist_set_column_widget (GTK_CLIST (imagestatsclist), 1, value);
  gtk_label_set_line_wrap (GTK_LABEL (value), TRUE);

  imagestats = gtk_label_new (_("statistics"));
  gtk_widget_ref (imagestats);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "imagestats", imagestats,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (imagestats);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (imageinfonotebook), gtk_notebook_get_nth_page (GTK_NOTEBOOK (imageinfonotebook), 1), imagestats);

  appbar1 = gnome_appbar_new (TRUE, TRUE, GNOME_PREFERENCES_NEVER);
  gtk_widget_ref (appbar1);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "appbar1", appbar1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (appbar1);
  gtk_box_pack_start (GTK_BOX (imageinfo), appbar1, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (appbar1), 3);

  imagedisplay = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (imagedisplay);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "imagedisplay", imagedisplay,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (imagedisplay);
  gtk_box_pack_start (GTK_BOX (hboxmain), imagedisplay, TRUE, TRUE, 0);

  imagedisplaynb = gtk_notebook_new ();
  gtk_widget_ref (imagedisplaynb);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "imagedisplaynb", imagedisplaynb,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (imagedisplaynb);
  gtk_box_pack_start (GTK_BOX (imagedisplay), imagedisplaynb, TRUE, TRUE, 0);
  gtk_notebook_set_show_border (GTK_NOTEBOOK (imagedisplaynb), FALSE);

  imagedisplay_old = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (imagedisplay_old);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "imagedisplay_old", imagedisplay_old,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (imagedisplay_old);
  gtk_container_add (GTK_CONTAINER (imagedisplaynb), imagedisplay_old);

  handlebox1 = gtk_handle_box_new ();
  gtk_widget_ref (handlebox1);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "handlebox1", handlebox1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (handlebox1);
  gtk_box_pack_start (GTK_BOX (imagedisplay_old), handlebox1, FALSE, TRUE, 0);
  gtk_widget_set_usize (handlebox1, -2, 34);
  gtk_container_set_border_width (GTK_CONTAINER (handlebox1), 2);
  gtk_widget_set_sensitive (handlebox1, FALSE);

  hbox3 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox3);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "hbox3", hbox3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox3);
  gtk_container_add (GTK_CONTAINER (handlebox1), hbox3);

  bgcolorbox = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (bgcolorbox);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "bgcolorbox", bgcolorbox,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (bgcolorbox);
  gtk_box_pack_start (GTK_BOX (hbox3), bgcolorbox, TRUE, FALSE, 0);

  bgcolorlabel = gtk_label_new (_("Bg"));
  gtk_widget_ref (bgcolorlabel);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "bgcolorlabel", bgcolorlabel,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (bgcolorlabel);
  gtk_box_pack_start (GTK_BOX (bgcolorbox), bgcolorlabel, TRUE, TRUE, 5);

  bgcolorsw = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (bgcolorsw);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "bgcolorsw", bgcolorsw,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (bgcolorsw);
  gtk_box_pack_start (GTK_BOX (bgcolorbox), bgcolorsw, FALSE, FALSE, 5);
  gtk_widget_set_usize (bgcolorsw, 39, 30);
  gtk_container_set_border_width (GTK_CONTAINER (bgcolorsw), 5);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (bgcolorsw), GTK_POLICY_NEVER, GTK_POLICY_NEVER);

  bgcolorvp = gtk_viewport_new (NULL, NULL);
  gtk_widget_ref (bgcolorvp);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "bgcolorvp", bgcolorvp,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (bgcolorvp);
  gtk_container_add (GTK_CONTAINER (bgcolorsw), bgcolorvp);
  gtk_widget_set_events (bgcolorvp, GDK_BUTTON_PRESS_MASK);
  gtk_widget_set_extension_events (bgcolorvp, GDK_EXTENSION_EVENTS_ALL);

  bgcolorpixmap = create_pixmap (MainWindow, NULL, FALSE);
  gtk_widget_ref (bgcolorpixmap);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "bgcolorpixmap", bgcolorpixmap,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (bgcolorpixmap);
  gtk_container_add (GTK_CONTAINER (bgcolorvp), bgcolorpixmap);
  gtk_widget_set_usize (bgcolorpixmap, 39, 30);

  bgcoloruselabel = gtk_label_new (_("aktiv? "));
  gtk_widget_ref (bgcoloruselabel);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "bgcoloruselabel", bgcoloruselabel,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_box_pack_start (GTK_BOX (bgcolorbox), bgcoloruselabel, FALSE, FALSE, 2);
  gtk_widget_set_sensitive (bgcoloruselabel, FALSE);

  bgcoloruse = gtk_check_button_new_with_label ("");
  gtk_widget_ref (bgcoloruse);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "bgcoloruse", bgcoloruse,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (bgcoloruse);
  gtk_box_pack_start (GTK_BOX (bgcolorbox), bgcoloruse, FALSE, FALSE, 0);
  GTK_WIDGET_UNSET_FLAGS (bgcoloruse, GTK_CAN_FOCUS);
  gtk_widget_add_accelerator (bgcoloruse, "clicked", accel_group,
                              GDK_F9, 0,
                              GTK_ACCEL_VISIBLE);

  vseparator1 = gtk_vseparator_new ();
  gtk_widget_ref (vseparator1);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vseparator1", vseparator1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vseparator1);
  gtk_box_pack_start (GTK_BOX (hbox3), vseparator1, FALSE, TRUE, 5);

  Zoombox = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (Zoombox);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "Zoombox", Zoombox,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (Zoombox);
  gtk_box_pack_start (GTK_BOX (hbox3), Zoombox, TRUE, FALSE, 5);

  zoomlabel = gtk_label_new (_("Zoom"));
  gtk_widget_ref (zoomlabel);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "zoomlabel", zoomlabel,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (zoomlabel);
  gtk_box_pack_start (GTK_BOX (Zoombox), zoomlabel, FALSE, FALSE, 5);
  gtk_misc_set_padding (GTK_MISC (zoomlabel), 5, 0);

  zoombox2 = gtk_toolbar_new (GTK_ORIENTATION_HORIZONTAL, GTK_TOOLBAR_ICONS);
  gtk_widget_ref (zoombox2);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "zoombox2", zoombox2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (zoombox2);
  gtk_box_pack_start (GTK_BOX (Zoombox), zoombox2, FALSE, FALSE, 0);
  gtk_toolbar_set_button_relief (GTK_TOOLBAR (zoombox2), GTK_RELIEF_NONE);

  zoomentry_adj = gtk_adjustment_new (100, 1, 1000, 2, 100, 10);
  zoomentry = gtk_spin_button_new (GTK_ADJUSTMENT (zoomentry_adj), 1, 0);
  gtk_widget_ref (zoomentry);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "zoomentry", zoomentry,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_toolbar_append_widget (GTK_TOOLBAR (zoombox2), zoomentry, NULL, NULL);
  GTK_WIDGET_UNSET_FLAGS (zoomentry, GTK_CAN_FOCUS);
  GTK_WIDGET_SET_FLAGS (zoomentry, GTK_CAN_DEFAULT);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (zoomentry), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (zoomentry), GTK_UPDATE_IF_VALID);
  gtk_spin_button_set_snap_to_ticks (GTK_SPIN_BUTTON (zoomentry), TRUE);

  zoomm25 = gtk_toolbar_append_element (GTK_TOOLBAR (zoombox2),
                                GTK_TOOLBAR_CHILD_BUTTON,
                                NULL,
                                _(" -25% "),
                                _("-25%"), NULL,
                                NULL, NULL, NULL);
  gtk_widget_ref (zoomm25);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "zoomm25", zoomm25,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (zoomm25);
  gtk_widget_add_accelerator (zoomm25, "clicked", accel_group,
                              GDK_KP_Subtract, 0,
                              GTK_ACCEL_VISIBLE);

  zoomp25 = gtk_toolbar_append_element (GTK_TOOLBAR (zoombox2),
                                GTK_TOOLBAR_CHILD_BUTTON,
                                NULL,
                                _(" +25% "),
                                _("+25%"), NULL,
                                NULL, NULL, NULL);
  gtk_widget_ref (zoomp25);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "zoomp25", zoomp25,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (zoomp25);
  gtk_widget_add_accelerator (zoomp25, "clicked", accel_group,
                              GDK_KP_Add, 0,
                              GTK_ACCEL_VISIBLE);

  zoom100 = gtk_toolbar_append_element (GTK_TOOLBAR (zoombox2),
                                GTK_TOOLBAR_CHILD_TOGGLEBUTTON,
                                NULL,
                                _("1:1"),
                                NULL, NULL,
                                NULL, NULL, NULL);
  gtk_widget_ref (zoom100);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "zoom100", zoom100,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (zoom100);
  gtk_widget_add_accelerator (zoom100, "clicked", accel_group,
                              GDK_KP_Enter, 0,
                              GTK_ACCEL_VISIBLE);

  autozoom = gtk_toolbar_append_element (GTK_TOOLBAR (zoombox2),
                                GTK_TOOLBAR_CHILD_TOGGLEBUTTON,
                                NULL,
                                _("autozoom"),
                                NULL, NULL,
                                NULL, NULL, NULL);
  gtk_widget_ref (autozoom);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "autozoom", autozoom,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (autozoom);
  gtk_widget_add_accelerator (autozoom, "clicked", accel_group,
                              GDK_KP_Multiply, 0,
                              GTK_ACCEL_VISIBLE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (autozoom), TRUE);

  vmbox2 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (vmbox2);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vmbox2", vmbox2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vmbox2);
  gtk_box_pack_start (GTK_BOX (hbox3), vmbox2, TRUE, TRUE, 0);

  vseparator2 = gtk_vseparator_new ();
  gtk_widget_ref (vseparator2);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vseparator2", vseparator2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vseparator2);
  gtk_box_pack_start (GTK_BOX (vmbox2), vseparator2, FALSE, TRUE, 0);

  vmtoolbar2 = gtk_toolbar_new (GTK_ORIENTATION_HORIZONTAL, GTK_TOOLBAR_ICONS);
  gtk_widget_ref (vmtoolbar2);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vmtoolbar2", vmtoolbar2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vmtoolbar2);
  gtk_box_pack_start (GTK_BOX (vmbox2), vmtoolbar2, TRUE, FALSE, 5);
  gtk_toolbar_set_button_relief (GTK_TOOLBAR (vmtoolbar2), GTK_RELIEF_NONE);

  Viewlabell2 = gtk_label_new (_("View"));
  gtk_widget_ref (Viewlabell2);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "Viewlabell2", Viewlabell2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (Viewlabell2);
  gtk_toolbar_append_widget (GTK_TOOLBAR (vmtoolbar2), Viewlabell2, NULL, NULL);
  gtk_misc_set_padding (GTK_MISC (Viewlabell2), 5, 0);

  tmp_toolbar_icon = gnome_stock_pixmap_widget (MainWindow, GNOME_STOCK_PIXMAP_INDEX);
  vmbutton4 = gtk_toolbar_append_element (GTK_TOOLBAR (vmtoolbar2),
                                GTK_TOOLBAR_CHILD_BUTTON,
                                NULL,
                                _("file view"),
                                _("file view"), NULL,
                                tmp_toolbar_icon, NULL, NULL);
  gtk_widget_ref (vmbutton4);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vmbutton4", vmbutton4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vmbutton4);
  gtk_widget_add_accelerator (vmbutton4, "clicked", accel_group,
                              GDK_F10, 0,
                              GTK_ACCEL_VISIBLE);

  tmp_toolbar_icon = gnome_stock_pixmap_widget (MainWindow, GNOME_STOCK_PIXMAP_TABLE_FILL);
  vmbutton5 = gtk_toolbar_append_element (GTK_TOOLBAR (vmtoolbar2),
                                GTK_TOOLBAR_CHILD_BUTTON,
                                NULL,
                                _("splitted view"),
                                _("splitted view"), NULL,
                                tmp_toolbar_icon, NULL, NULL);
  gtk_widget_ref (vmbutton5);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vmbutton5", vmbutton5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vmbutton5);
  gtk_widget_add_accelerator (vmbutton5, "clicked", accel_group,
                              GDK_F11, 0,
                              GTK_ACCEL_VISIBLE);

  tmp_toolbar_icon = gnome_stock_pixmap_widget (MainWindow, GNOME_STOCK_PIXMAP_COLORSELECTOR);
  vmbutton6 = gtk_toolbar_append_element (GTK_TOOLBAR (vmtoolbar2),
                                GTK_TOOLBAR_CHILD_BUTTON,
                                NULL,
                                _("image view"),
                                _("image view"), NULL,
                                tmp_toolbar_icon, NULL, NULL);
  gtk_widget_ref (vmbutton6);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vmbutton6", vmbutton6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vmbutton6);
  gtk_widget_add_accelerator (vmbutton6, "clicked", accel_group,
                              GDK_F12, 0,
                              GTK_ACCEL_VISIBLE);

  scrolledwindow6 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow6);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "scrolledwindow6", scrolledwindow6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow6);
  gtk_box_pack_start (GTK_BOX (imagedisplay_old), scrolledwindow6, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (scrolledwindow6), 3);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow6), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  viewport1 = gtk_viewport_new (NULL, NULL);
  gtk_widget_ref (viewport1);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "viewport1", viewport1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (viewport1);
  gtk_container_add (GTK_CONTAINER (scrolledwindow6), viewport1);

  image = create_pixmap (MainWindow, NULL, FALSE);
  gtk_widget_ref (image);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "image", image,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (image);
  gtk_container_add (GTK_CONTAINER (viewport1), image);
  gtk_pixmap_set_build_insensitive (GTK_PIXMAP (image), FALSE);

  label29 = gtk_label_new (_("imagedisplay"));
  gtk_widget_ref (label29);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "label29", label29,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label29);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (imagedisplaynb), gtk_notebook_get_nth_page (GTK_NOTEBOOK (imagedisplaynb), 0), label29);

  imageiconview = gtk_table_new (2, 1, FALSE);
  gtk_widget_ref (imageiconview);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "imageiconview", imageiconview,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (imageiconview);
  gtk_container_add (GTK_CONTAINER (imagedisplaynb), imageiconview);

  viewport2 = gtk_viewport_new (NULL, NULL);
  gtk_widget_ref (viewport2);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "viewport2", viewport2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (viewport2);
  gtk_table_attach (GTK_TABLE (imageiconview), viewport2, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (viewport2), 3);

  scrolledwindow7 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow7);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "scrolledwindow7", scrolledwindow7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow7);
  gtk_container_add (GTK_CONTAINER (viewport2), scrolledwindow7);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow7), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  iconlist = gnome_icon_list_new_flags (100, NULL, GNOME_ICON_LIST_IS_EDITABLE);
  gtk_widget_ref (iconlist);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "iconlist", iconlist,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iconlist);
  gtk_container_add (GTK_CONTAINER (scrolledwindow7), iconlist);
  GTK_WIDGET_SET_FLAGS (iconlist, GTK_CAN_DEFAULT);
  gnome_icon_list_set_row_spacing (GNOME_ICON_LIST (iconlist), 10);
  gnome_icon_list_set_col_spacing (GNOME_ICON_LIST (iconlist), 5);

  handlebox3 = gtk_handle_box_new ();
  gtk_widget_ref (handlebox3);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "handlebox3", handlebox3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (handlebox3);
  gtk_table_attach (GTK_TABLE (imageiconview), handlebox3, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_SHRINK | GTK_FILL), 0, 0);
  gtk_widget_set_usize (handlebox3, -2, 34);
  gtk_container_set_border_width (GTK_CONTAINER (handlebox3), 2);

  toolbar3 = gtk_toolbar_new (GTK_ORIENTATION_HORIZONTAL, GTK_TOOLBAR_ICONS);
  gtk_widget_ref (toolbar3);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "toolbar3", toolbar3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (toolbar3);
  gtk_container_add (GTK_CONTAINER (handlebox3), toolbar3);

  hbox10 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox10);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "hbox10", hbox10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox10);
  gtk_toolbar_append_widget (GTK_TOOLBAR (toolbar3), hbox10, NULL, NULL);

  label35 = gtk_label_new (_("     "));
  gtk_widget_ref (label35);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "label35", label35,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label35);
  gtk_box_pack_start (GTK_BOX (hbox10), label35, TRUE, TRUE, 0);

  vmbox3 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (vmbox3);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vmbox3", vmbox3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vmbox3);
  gtk_box_pack_start (GTK_BOX (hbox10), vmbox3, TRUE, TRUE, 0);

  vseparator4 = gtk_vseparator_new ();
  gtk_widget_ref (vseparator4);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vseparator4", vseparator4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vseparator4);
  gtk_box_pack_start (GTK_BOX (vmbox3), vseparator4, FALSE, TRUE, 0);

  vmtoolbar3 = gtk_toolbar_new (GTK_ORIENTATION_HORIZONTAL, GTK_TOOLBAR_ICONS);
  gtk_widget_ref (vmtoolbar3);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vmtoolbar3", vmtoolbar3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vmtoolbar3);
  gtk_box_pack_start (GTK_BOX (vmbox3), vmtoolbar3, TRUE, FALSE, 5);
  gtk_toolbar_set_button_relief (GTK_TOOLBAR (vmtoolbar3), GTK_RELIEF_NONE);

  label31 = gtk_label_new (_("View"));
  gtk_widget_ref (label31);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "label31", label31,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label31);
  gtk_toolbar_append_widget (GTK_TOOLBAR (vmtoolbar3), label31, NULL, NULL);
  gtk_misc_set_padding (GTK_MISC (label31), 5, 0);

  tmp_toolbar_icon = gnome_stock_pixmap_widget (MainWindow, GNOME_STOCK_PIXMAP_INDEX);
  vmbutton9 = gtk_toolbar_append_element (GTK_TOOLBAR (vmtoolbar3),
                                GTK_TOOLBAR_CHILD_BUTTON,
                                NULL,
                                _("file view"),
                                _("file view"), NULL,
                                tmp_toolbar_icon, NULL, NULL);
  gtk_widget_ref (vmbutton9);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vmbutton9", vmbutton9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vmbutton9);
  gtk_widget_add_accelerator (vmbutton9, "clicked", accel_group,
                              GDK_F10, 0,
                              GTK_ACCEL_VISIBLE);

  tmp_toolbar_icon = gnome_stock_pixmap_widget (MainWindow, GNOME_STOCK_PIXMAP_TABLE_FILL);
  vmbutton10 = gtk_toolbar_append_element (GTK_TOOLBAR (vmtoolbar3),
                                GTK_TOOLBAR_CHILD_BUTTON,
                                NULL,
                                _("splitted view"),
                                _("splitted view"), NULL,
                                tmp_toolbar_icon, NULL, NULL);
  gtk_widget_ref (vmbutton10);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vmbutton10", vmbutton10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vmbutton10);
  gtk_widget_add_accelerator (vmbutton10, "clicked", accel_group,
                              GDK_F11, 0,
                              GTK_ACCEL_VISIBLE);

  tmp_toolbar_icon = gnome_stock_pixmap_widget (MainWindow, GNOME_STOCK_PIXMAP_COLORSELECTOR);
  vmbutton11 = gtk_toolbar_append_element (GTK_TOOLBAR (vmtoolbar3),
                                GTK_TOOLBAR_CHILD_BUTTON,
                                NULL,
                                _("image view"),
                                _("image view"), NULL,
                                tmp_toolbar_icon, NULL, NULL);
  gtk_widget_ref (vmbutton11);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "vmbutton11", vmbutton11,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vmbutton11);
  gtk_widget_add_accelerator (vmbutton11, "clicked", accel_group,
                              GDK_F12, 0,
                              GTK_ACCEL_VISIBLE);

  label30 = gtk_label_new (_("iconview"));
  gtk_widget_ref (label30);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "label30", label30,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label30);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (imagedisplaynb), gtk_notebook_get_nth_page (GTK_NOTEBOOK (imagedisplaynb), 1), label30);

  appbarbox = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (appbarbox);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "appbarbox", appbarbox,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (appbarbox);
  gtk_box_pack_start (GTK_BOX (imagedisplay), appbarbox, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (appbarbox), 3);

  appbar2 = gnome_appbar_new (TRUE, TRUE, GNOME_PREFERENCES_NEVER);
  gtk_widget_ref (appbar2);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "appbar2", appbar2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (appbar2);
  gtk_box_pack_start (GTK_BOX (appbarbox), appbar2, TRUE, TRUE, 0);

  progressbar1 = gtk_progress_bar_new ();
  gtk_widget_ref (progressbar1);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "progressbar1", progressbar1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (progressbar1);
  gtk_box_pack_start (GTK_BOX (appbarbox), progressbar1, FALSE, FALSE, 0);
  gtk_progress_configure (GTK_PROGRESS (progressbar1), 0, 0, 0);
  gtk_progress_set_show_text (GTK_PROGRESS (progressbar1), TRUE);
  gtk_progress_set_format_string (GTK_PROGRESS (progressbar1), _("image %V of %U"));

  appbar0 = gnome_appbar_new (TRUE, TRUE, GNOME_PREFERENCES_NEVER);
  gtk_widget_ref (appbar0);
  gtk_object_set_data_full (GTK_OBJECT (MainWindow), "appbar0", appbar0,
                            (GtkDestroyNotify) gtk_widget_unref);
  gnome_app_set_statusbar (GNOME_APP (MainWindow), appbar0);

  gtk_signal_connect (GTK_OBJECT (MainWindow), "delete_event",
                      GTK_SIGNAL_FUNC (on_MainWindow_delete_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (MainWindow), "destroy_event",
                      GTK_SIGNAL_FUNC (on_MainWindow_destroy_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (MainWindow), "key_press_event",
                      GTK_SIGNAL_FUNC (on_MainWindow_key_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (MainWindow), "key_release_event",
                      GTK_SIGNAL_FUNC (on_MainWindow_key_release_event),
                      NULL);
  gnome_app_install_menu_hints (GNOME_APP (MainWindow), menubar1_uiinfo);
  gtk_signal_connect (GTK_OBJECT (packer1), "size_allocate",
                      GTK_SIGNAL_FUNC (on_packer1_size_allocate),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (button9), "clicked",
                      GTK_SIGNAL_FUNC (on_button9_clicked),
                      combo_entry1);
  gtk_signal_connect (GTK_OBJECT (vmbutton1), "clicked",
                      GTK_SIGNAL_FUNC (on_vmbutton1_clicked),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (vmbutton2), "clicked",
                      GTK_SIGNAL_FUNC (on_vmbutton2_clicked),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (vmbutton3), "clicked",
                      GTK_SIGNAL_FUNC (on_vmbutton3_clicked),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (homebutton), "clicked",
                      GTK_SIGNAL_FUNC (on_homebutton_clicked),
                      combo_entry1);
  gtk_signal_connect (GTK_OBJECT (combo_entry1), "activate",
                      GTK_SIGNAL_FUNC (on_combo_entry1_activate),
                      combo_entry1);
  gtk_signal_connect (GTK_OBJECT (dirlist), "select_row",
                      GTK_SIGNAL_FUNC (on_dirlist_select_row),
                      combo_entry1);
  gtk_signal_connect (GTK_OBJECT (frame1radiobutton1), "toggled",
                      GTK_SIGNAL_FUNC (on_frame1radiobutton1_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (frame1radiobutton2), "toggled",
                      GTK_SIGNAL_FUNC (on_frame1radiobutton2_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (imagelist), "select_row",
                      GTK_SIGNAL_FUNC (on_imagelist_select_row),
                      combo_entry1);
  gtk_signal_connect (GTK_OBJECT (scrolledwindow8), "size_allocate",
                      GTK_SIGNAL_FUNC (on_scrolledwindow8_size_allocate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (iconlist1), "select_icon",
                      GTK_SIGNAL_FUNC (on_iconlist_select_icon),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (imagedisplaynb), "switch_page",
                      GTK_SIGNAL_FUNC (on_imagedisplay_switch_page),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (bgcolorvp), "button_press_event",
                      GTK_SIGNAL_FUNC (on_bgcolorvp_button_press_event),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (bgcoloruse), "toggled",
                      GTK_SIGNAL_FUNC (on_bgcoloruse_toggled),
                      combo_entry1);
  gtk_signal_connect (GTK_OBJECT (zoomentry), "changed",
                      GTK_SIGNAL_FUNC (on_zoomentry_changed),
                      combo_entry1);
  gtk_signal_connect (GTK_OBJECT (zoomm25), "clicked",
                      GTK_SIGNAL_FUNC (on_zoomm25_clicked),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (zoomp25), "clicked",
                      GTK_SIGNAL_FUNC (on_zoomp25_clicked),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (zoom100), "toggled",
                      GTK_SIGNAL_FUNC (on_zoom100_toggled),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (autozoom), "toggled",
                      GTK_SIGNAL_FUNC (on_autozoom_toggled),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (vmbutton4), "clicked",
                      GTK_SIGNAL_FUNC (on_vmbutton1_clicked),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (vmbutton5), "clicked",
                      GTK_SIGNAL_FUNC (on_vmbutton2_clicked),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (vmbutton6), "clicked",
                      GTK_SIGNAL_FUNC (on_vmbutton3_clicked),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (scrolledwindow6), "size_allocate",
                      GTK_SIGNAL_FUNC (on_scrolledwindow6_size_allocate),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (scrolledwindow6), "button_press_event",
                      GTK_SIGNAL_FUNC (on_scrolledwindow6_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (imageiconview), "size_allocate",
                      GTK_SIGNAL_FUNC (on_imageiconview_size_allocate),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (scrolledwindow7), "size_allocate",
                      GTK_SIGNAL_FUNC (on_scrolledwindow7_size_allocate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (iconlist), "select_icon",
                      GTK_SIGNAL_FUNC (on_iconlist_select_icon),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (vmbutton9), "clicked",
                      GTK_SIGNAL_FUNC (on_vmbutton1_clicked),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (vmbutton10), "clicked",
                      GTK_SIGNAL_FUNC (on_vmbutton2_clicked),
                      MainWindow);
  gtk_signal_connect (GTK_OBJECT (vmbutton11), "clicked",
                      GTK_SIGNAL_FUNC (on_vmbutton3_clicked),
                      MainWindow);

  gtk_window_add_accel_group (GTK_WINDOW (MainWindow), accel_group);

  return MainWindow;
}

GtkWidget*
create_about1 (void)
{
  const gchar *authors[] = {
    "Oktay Acikalin",
    NULL
  };
  GtkWidget *about1;

  about1 = gnome_about_new ("Look_at_the_stars", VERSION,
                        "",
                        authors,
                        _("Dies ist mein erster Versuch einen Picture-Viewer zu schreiben und ich habe einiges an Anforderungen an mein Programm :) Hoffentlich schaffe ich es!"),
                        "look_at_the_stars/look_at_the_stars_icon.png");
  gtk_object_set_data (GTK_OBJECT (about1), "about1", about1);
  gtk_window_set_modal (GTK_WINDOW (about1), TRUE);

  return about1;
}

GtkWidget*
create_prefswindow (void)
{
  GtkWidget *prefswindow;
  GtkWidget *prefsmainbox;
  GtkWidget *prefsmainnotebook;
  GtkWidget *prefstable1;
  GtkWidget *frame7;
  GtkWidget *table5;
  GtkWidget *label25;
  GtkWidget *prefsmainentry1;
  GtkWidget *label26;
  GtkWidget *prefsmainentry2;
  GtkWidget *table3;
  GtkWidget *prefsmainloadbutton;
  GtkWidget *prefsmainsavebutton;
  GtkWidget *prefsmainreset;
  GtkWidget *frame4;
  GtkWidget *table4;
  GtkWidget *label18;
  GtkWidget *prefsmaintogglebutton1;
  GtkWidget *prefslabel1;
  GtkWidget *prefstable2;
  GtkWidget *notebook1;
  GtkWidget *prefsimageframe1;
  GtkWidget *vbox9;
  GSList *imagerenderquality_group = NULL;
  GtkWidget *prefsimageradiobutton1;
  GtkWidget *prefsimageradiobutton2;
  GtkWidget *prefsimageradiobutton3;
  GtkWidget *prefsimageradiobutton4;
  GtkWidget *label15;
  GtkWidget *vbox10;
  GtkWidget *prefsimageframe2;
  GtkWidget *prefsimagetable1;
  GtkWidget *label10;
  GtkWidget *prefsimagetable11;
  GtkObject *spinbutton3_adj;
  GtkWidget *spinbutton3;
  GtkObject *spinbutton2_adj;
  GtkWidget *spinbutton2;
  GtkObject *spinbutton4_adj;
  GtkWidget *spinbutton4;
  GtkWidget *label9;
  GtkWidget *label7;
  GtkWidget *label8;
  GtkWidget *label2;
  GtkObject *spinbutton1_adj;
  GtkWidget *spinbutton1;
  GtkWidget *hseparator3;
  GtkWidget *frame5;
  GtkWidget *vbox11;
  GtkWidget *label19;
  GtkWidget *hseparator4;
  GtkWidget *vbox12;
  GSList *imagebgroutine_group = NULL;
  GtkWidget *prefsimagebgradiobutton1;
  GtkWidget *prefsimagebgradiobutton2;
  GtkWidget *prefsimagebgradiobutton3;
  GtkWidget *vbox13;
  GtkWidget *prefsimagebgradiobutton4;
  GtkWidget *hbox8;
  GtkWidget *label23;
  GtkWidget *label21;
  GtkObject *spinbutton6_adj;
  GtkWidget *spinbutton6;
  GtkWidget *label24;
  GtkWidget *label22;
  GtkObject *spinbutton7_adj;
  GtkWidget *spinbutton7;
  GtkWidget *hseparator5;
  GtkWidget *hbox7;
  GtkWidget *label20;
  GtkWidget *prefsimagebgcheckbutton1;
  GtkWidget *label16;
  GtkWidget *prefsimageframe3;
  GtkWidget *table2;
  GtkWidget *hseparator1;
  GtkWidget *hseparator2;
  GtkObject *spinbutton5_adj;
  GtkWidget *spinbutton5;
  GtkWidget *prefsimagecheckbutton2;
  GtkWidget *hseparator7;
  GtkWidget *prefsimagecheckbutton3;
  GtkWidget *prefsimagecheckbutton4;
  GtkWidget *label36;
  GtkWidget *label37;
  GtkWidget *prefsimagelabel1;
  GtkWidget *prefsimagecheckbutton1;
  GtkWidget *label13;
  GtkWidget *label14;
  GtkWidget *label17;
  GtkWidget *prefsimagereload;
  GtkWidget *prefslabel2;
  GtkWidget *prefstable3;
  GtkWidget *frame8;
  GtkWidget *table6;
  GtkWidget *hseparator6;
  GSList *thumbsaveoption_group = NULL;
  GtkWidget *prefsthumbradiobutton6;
  GtkWidget *prefsthumbradiobutton5;
  GtkWidget *label27;
  GtkWidget *label28;
  GtkWidget *prefsthumbentry2;
  GtkWidget *prefsthumbentry1;
  GtkWidget *frame6;
  GtkWidget *vbox14;
  GSList *thumbrenderquality_group = NULL;
  GtkWidget *prefsthumbradiobutton1;
  GtkWidget *prefsthumbradiobutton2;
  GtkWidget *prefsthumbradiobutton3;
  GtkWidget *prefsthumbradiobutton4;
  GtkWidget *prefslabel3;
  GtkWidget *prefsnotice;
  GtkWidget *prefsclosebutton;
  GtkTooltips *tooltips;

  tooltips = gtk_tooltips_new ();

  prefswindow = gtk_window_new (GTK_WINDOW_DIALOG);
  gtk_object_set_data (GTK_OBJECT (prefswindow), "prefswindow", prefswindow);
  gtk_container_set_border_width (GTK_CONTAINER (prefswindow), 5);
  gtk_window_set_title (GTK_WINDOW (prefswindow), _("Settings"));
  gtk_window_set_policy (GTK_WINDOW (prefswindow), FALSE, FALSE, TRUE);

  prefsmainbox = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (prefsmainbox);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsmainbox", prefsmainbox,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsmainbox);
  gtk_container_add (GTK_CONTAINER (prefswindow), prefsmainbox);

  prefsmainnotebook = gtk_notebook_new ();
  gtk_widget_ref (prefsmainnotebook);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsmainnotebook", prefsmainnotebook,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsmainnotebook);
  gtk_box_pack_start (GTK_BOX (prefsmainbox), prefsmainnotebook, TRUE, TRUE, 0);
  gtk_notebook_set_tab_hborder (GTK_NOTEBOOK (prefsmainnotebook), 58);

  prefstable1 = gtk_table_new (5, 1, FALSE);
  gtk_widget_ref (prefstable1);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefstable1", prefstable1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefstable1);
  gtk_container_add (GTK_CONTAINER (prefsmainnotebook), prefstable1);
  gtk_container_set_border_width (GTK_CONTAINER (prefstable1), 5);

  frame7 = gtk_frame_new (_("where should I save your configuration?"));
  gtk_widget_ref (frame7);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "frame7", frame7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame7);
  gtk_table_attach (GTK_TABLE (prefstable1), frame7, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame7), 5);
  gtk_frame_set_label_align (GTK_FRAME (frame7), 0.5, 0.5);

  table5 = gtk_table_new (3, 2, FALSE);
  gtk_widget_ref (table5);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "table5", table5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table5);
  gtk_container_add (GTK_CONTAINER (frame7), table5);
  gtk_container_set_border_width (GTK_CONTAINER (table5), 5);

  label25 = gtk_label_new (_("where to save your main rc-file"));
  gtk_widget_ref (label25);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label25", label25,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label25);
  gtk_table_attach (GTK_TABLE (table5), label25, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label25), 0, 0.5);

  prefsmainentry1 = gtk_entry_new ();
  gtk_widget_ref (prefsmainentry1);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsmainentry1", prefsmainentry1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsmainentry1);
  gtk_table_attach (GTK_TABLE (table5), prefsmainentry1, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_entry_set_text (GTK_ENTRY (prefsmainentry1), _("~/.lats/"));

  label26 = gtk_label_new (_("the name of your main rc-file"));
  gtk_widget_ref (label26);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label26", label26,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label26);
  gtk_table_attach (GTK_TABLE (table5), label26, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label26), 0, 0.5);

  prefsmainentry2 = gtk_entry_new ();
  gtk_widget_ref (prefsmainentry2);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsmainentry2", prefsmainentry2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsmainentry2);
  gtk_table_attach (GTK_TABLE (table5), prefsmainentry2, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_entry_set_text (GTK_ENTRY (prefsmainentry2), _("config"));

  table3 = gtk_table_new (3, 1, FALSE);
  gtk_widget_ref (table3);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "table3", table3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table3);
  gtk_table_attach (GTK_TABLE (prefstable1), table3, 0, 1, 4, 5,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_SHRINK), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (table3), 5);

  prefsmainloadbutton = gtk_button_new_with_label (_("  load old settings  "));
  gtk_widget_ref (prefsmainloadbutton);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsmainloadbutton", prefsmainloadbutton,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsmainloadbutton);
  gtk_table_attach (GTK_TABLE (table3), prefsmainloadbutton, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (prefsmainloadbutton), 5);

  prefsmainsavebutton = gtk_button_new_with_label (_("  save settings  "));
  gtk_widget_ref (prefsmainsavebutton);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsmainsavebutton", prefsmainsavebutton,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsmainsavebutton);
  gtk_table_attach (GTK_TABLE (table3), prefsmainsavebutton, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (prefsmainsavebutton), 5);

  prefsmainreset = gtk_button_new_with_label (_("  !reset to defaults!  "));
  gtk_widget_ref (prefsmainreset);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsmainreset", prefsmainreset,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsmainreset);
  gtk_table_attach (GTK_TABLE (table3), prefsmainreset, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (prefsmainreset), 5);

  frame4 = gtk_frame_new (_("debugging"));
  gtk_widget_ref (frame4);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "frame4", frame4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame4);
  gtk_table_attach (GTK_TABLE (prefstable1), frame4, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame4), 5);
  gtk_frame_set_label_align (GTK_FRAME (frame4), 0.5, 0.5);

  table4 = gtk_table_new (3, 2, FALSE);
  gtk_widget_ref (table4);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "table4", table4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table4);
  gtk_container_add (GTK_CONTAINER (frame4), table4);
  gtk_container_set_border_width (GTK_CONTAINER (table4), 5);

  label18 = gtk_label_new (_("print verbose messages to stdout?"));
  gtk_widget_ref (label18);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label18", label18,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label18);
  gtk_table_attach (GTK_TABLE (table4), label18, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label18), 0, 0.5);

  prefsmaintogglebutton1 = gtk_toggle_button_new_with_label (_("yepp!"));
  gtk_widget_ref (prefsmaintogglebutton1);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsmaintogglebutton1", prefsmaintogglebutton1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsmaintogglebutton1);
  gtk_table_attach (GTK_TABLE (table4), prefsmaintogglebutton1, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  prefslabel1 = gtk_label_new (_("main"));
  gtk_widget_ref (prefslabel1);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefslabel1", prefslabel1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefslabel1);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (prefsmainnotebook), gtk_notebook_get_nth_page (GTK_NOTEBOOK (prefsmainnotebook), 0), prefslabel1);

  prefstable2 = gtk_table_new (3, 1, FALSE);
  gtk_widget_ref (prefstable2);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefstable2", prefstable2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefstable2);
  gtk_container_add (GTK_CONTAINER (prefsmainnotebook), prefstable2);
  gtk_container_set_border_width (GTK_CONTAINER (prefstable2), 5);

  notebook1 = gtk_notebook_new ();
  gtk_widget_ref (notebook1);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "notebook1", notebook1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (notebook1);
  gtk_table_attach (GTK_TABLE (prefstable2), notebook1, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL), 0, 0);
  gtk_notebook_set_tab_hborder (GTK_NOTEBOOK (notebook1), 32);

  prefsimageframe1 = gtk_frame_new (_("choose render quality / interpolation  ( speed vs quality )"));
  gtk_widget_ref (prefsimageframe1);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimageframe1", prefsimageframe1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimageframe1);
  gtk_container_add (GTK_CONTAINER (notebook1), prefsimageframe1);
  gtk_container_set_border_width (GTK_CONTAINER (prefsimageframe1), 5);
  gtk_frame_set_label_align (GTK_FRAME (prefsimageframe1), 0.5, 0.5);

  vbox9 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox9);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "vbox9", vbox9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox9);
  gtk_container_add (GTK_CONTAINER (prefsimageframe1), vbox9);
  gtk_container_set_border_width (GTK_CONTAINER (vbox9), 5);

  prefsimageradiobutton1 = gtk_radio_button_new_with_label (imagerenderquality_group, _("nearest (fastest / worst)"));
  imagerenderquality_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefsimageradiobutton1));
  gtk_widget_ref (prefsimageradiobutton1);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimageradiobutton1", prefsimageradiobutton1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimageradiobutton1);
  gtk_box_pack_start (GTK_BOX (vbox9), prefsimageradiobutton1, FALSE, FALSE, 0);

  prefsimageradiobutton2 = gtk_radio_button_new_with_label (imagerenderquality_group, _("tiles"));
  imagerenderquality_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefsimageradiobutton2));
  gtk_widget_ref (prefsimageradiobutton2);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimageradiobutton2", prefsimageradiobutton2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimageradiobutton2);
  gtk_box_pack_start (GTK_BOX (vbox9), prefsimageradiobutton2, FALSE, FALSE, 0);

  prefsimageradiobutton3 = gtk_radio_button_new_with_label (imagerenderquality_group, _("bilinear (normal)"));
  imagerenderquality_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefsimageradiobutton3));
  gtk_widget_ref (prefsimageradiobutton3);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimageradiobutton3", prefsimageradiobutton3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimageradiobutton3);
  gtk_box_pack_start (GTK_BOX (vbox9), prefsimageradiobutton3, FALSE, FALSE, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (prefsimageradiobutton3), TRUE);

  prefsimageradiobutton4 = gtk_radio_button_new_with_label (imagerenderquality_group, _("hyper (slowest / superb but not always right)"));
  imagerenderquality_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefsimageradiobutton4));
  gtk_widget_ref (prefsimageradiobutton4);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimageradiobutton4", prefsimageradiobutton4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimageradiobutton4);
  gtk_box_pack_start (GTK_BOX (vbox9), prefsimageradiobutton4, FALSE, FALSE, 0);

  label15 = gtk_label_new (_("render quality"));
  gtk_widget_ref (label15);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label15", label15,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label15);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 0), label15);

  vbox10 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox10);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "vbox10", vbox10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox10);
  gtk_container_add (GTK_CONTAINER (notebook1), vbox10);

  prefsimageframe2 = gtk_frame_new (_("if your picture supplies transparency how should the background be drawn?"));
  gtk_widget_ref (prefsimageframe2);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimageframe2", prefsimageframe2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimageframe2);
  gtk_box_pack_start (GTK_BOX (vbox10), prefsimageframe2, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (prefsimageframe2), 5);
  gtk_frame_set_label_align (GTK_FRAME (prefsimageframe2), 0.5, 0.5);

  prefsimagetable1 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (prefsimagetable1);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimagetable1", prefsimagetable1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimagetable1);
  gtk_container_add (GTK_CONTAINER (prefsimageframe2), prefsimagetable1);
  gtk_container_set_border_width (GTK_CONTAINER (prefsimagetable1), 5);

  label10 = gtk_label_new (_("since we use some checkered-pattern-style as we look through the picture, you can somehow change its appearance. a and b are for the picture itself (also as transparency-base), out a and out b are for the area around the picture. they will be substracted from a and b. values range from 0 to 255."));
  gtk_widget_ref (label10);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label10", label10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label10);
  gtk_box_pack_start (GTK_BOX (prefsimagetable1), label10, TRUE, TRUE, 0);
  gtk_widget_set_usize (label10, 525, -2);
  gtk_label_set_line_wrap (GTK_LABEL (label10), TRUE);
  gtk_misc_set_alignment (GTK_MISC (label10), 0, 0.5);

  prefsimagetable11 = gtk_table_new (6, 2, FALSE);
  gtk_widget_ref (prefsimagetable11);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimagetable11", prefsimagetable11,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimagetable11);
  gtk_box_pack_start (GTK_BOX (prefsimagetable1), prefsimagetable11, TRUE, TRUE, 0);

  spinbutton3_adj = gtk_adjustment_new (34, 0, 255, 1, 10, 10);
  spinbutton3 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton3_adj), 1, 0);
  gtk_widget_ref (spinbutton3);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "spinbutton3", spinbutton3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (spinbutton3);
  gtk_table_attach (GTK_TABLE (prefsimagetable11), spinbutton3, 1, 2, 2, 3,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton3), TRUE);

  spinbutton2_adj = gtk_adjustment_new (85, 0, 255, 1, 10, 10);
  spinbutton2 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton2_adj), 1, 0);
  gtk_widget_ref (spinbutton2);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "spinbutton2", spinbutton2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (spinbutton2);
  gtk_table_attach (GTK_TABLE (prefsimagetable11), spinbutton2, 1, 2, 3, 4,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton2), TRUE);

  spinbutton4_adj = gtk_adjustment_new (34, 0, 255, 1, 10, 10);
  spinbutton4 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton4_adj), 1, 0);
  gtk_widget_ref (spinbutton4);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "spinbutton4", spinbutton4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (spinbutton4);
  gtk_table_attach (GTK_TABLE (prefsimagetable11), spinbutton4, 1, 2, 4, 5,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton4), TRUE);

  label9 = gtk_label_new (_("checker color out b ( will be substracted from above )"));
  gtk_widget_ref (label9);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label9", label9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label9);
  gtk_table_attach (GTK_TABLE (prefsimagetable11), label9, 0, 1, 4, 5,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label9), 0, 0.5);

  label7 = gtk_label_new (_("checker color b ( grey value )"));
  gtk_widget_ref (label7);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label7", label7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label7);
  gtk_table_attach (GTK_TABLE (prefsimagetable11), label7, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label7), 0, 0.5);

  label8 = gtk_label_new (_("checker color out a ( will be substracted from above )"));
  gtk_widget_ref (label8);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label8", label8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label8);
  gtk_table_attach (GTK_TABLE (prefsimagetable11), label8, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label8), 0, 0.5);

  label2 = gtk_label_new (_("checker color a ( grey value )"));
  gtk_widget_ref (label2);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label2", label2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label2);
  gtk_table_attach (GTK_TABLE (prefsimagetable11), label2, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label2), 0, 0.5);

  spinbutton1_adj = gtk_adjustment_new (170, 0, 255, 1, 10, 10);
  spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 0);
  gtk_widget_ref (spinbutton1);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "spinbutton1", spinbutton1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (spinbutton1);
  gtk_table_attach (GTK_TABLE (prefsimagetable11), spinbutton1, 1, 2, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton1), TRUE);

  hseparator3 = gtk_hseparator_new ();
  gtk_widget_ref (hseparator3);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "hseparator3", hseparator3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hseparator3);
  gtk_table_attach (GTK_TABLE (prefsimagetable11), hseparator3, 0, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 10);

  frame5 = gtk_frame_new (_("automatic background colordetection"));
  gtk_widget_ref (frame5);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "frame5", frame5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame5);
  gtk_box_pack_start (GTK_BOX (vbox10), frame5, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame5), 5);
  gtk_frame_set_label_align (GTK_FRAME (frame5), 0.5, 0.5);

  vbox11 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox11);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "vbox11", vbox11,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox11);
  gtk_container_add (GTK_CONTAINER (frame5), vbox11);
  gtk_container_set_border_width (GTK_CONTAINER (vbox11), 5);

  label19 = gtk_label_new (_("if you enable this stuff on the following tab, we'll use one of these\nroutines to gather the more or less correct background colors, so that\nyour images look right. these aren't finished, yet - help wanted!"));
  gtk_widget_ref (label19);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label19", label19,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label19);
  gtk_box_pack_start (GTK_BOX (vbox11), label19, FALSE, FALSE, 0);

  hseparator4 = gtk_hseparator_new ();
  gtk_widget_ref (hseparator4);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "hseparator4", hseparator4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hseparator4);
  gtk_box_pack_start (GTK_BOX (vbox11), hseparator4, FALSE, FALSE, 10);

  vbox12 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox12);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "vbox12", vbox12,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox12);
  gtk_box_pack_start (GTK_BOX (vbox11), vbox12, TRUE, TRUE, 0);

  prefsimagebgradiobutton1 = gtk_radio_button_new_with_label (imagebgroutine_group, _("additive color detection ( gets middle of red/green/blue of 4 points )"));
  imagebgroutine_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefsimagebgradiobutton1));
  gtk_widget_ref (prefsimagebgradiobutton1);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimagebgradiobutton1", prefsimagebgradiobutton1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimagebgradiobutton1);
  gtk_box_pack_start (GTK_BOX (vbox12), prefsimagebgradiobutton1, FALSE, FALSE, 0);

  prefsimagebgradiobutton2 = gtk_radio_button_new_with_label (imagebgroutine_group, _("minimum of colors ( gets minimum color of 4 points )"));
  imagebgroutine_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefsimagebgradiobutton2));
  gtk_widget_ref (prefsimagebgradiobutton2);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimagebgradiobutton2", prefsimagebgradiobutton2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimagebgradiobutton2);
  gtk_box_pack_start (GTK_BOX (vbox12), prefsimagebgradiobutton2, FALSE, FALSE, 0);

  prefsimagebgradiobutton3 = gtk_radio_button_new_with_label (imagebgroutine_group, _("brightness ( looks for darkest and brightest colors of 4 points )"));
  imagebgroutine_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefsimagebgradiobutton3));
  gtk_widget_ref (prefsimagebgradiobutton3);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimagebgradiobutton3", prefsimagebgradiobutton3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimagebgradiobutton3);
  gtk_box_pack_start (GTK_BOX (vbox12), prefsimagebgradiobutton3, FALSE, FALSE, 0);

  vbox13 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox13);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "vbox13", vbox13,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox13);
  gtk_box_pack_start (GTK_BOX (vbox12), vbox13, FALSE, FALSE, 0);

  prefsimagebgradiobutton4 = gtk_radio_button_new_with_label (imagebgroutine_group, _("the two above + scan of overall picture brightness ;-)"));
  imagebgroutine_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefsimagebgradiobutton4));
  gtk_widget_ref (prefsimagebgradiobutton4);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimagebgradiobutton4", prefsimagebgradiobutton4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimagebgradiobutton4);
  gtk_box_pack_start (GTK_BOX (vbox13), prefsimagebgradiobutton4, FALSE, FALSE, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (prefsimagebgradiobutton4), TRUE);

  hbox8 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox8);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "hbox8", hbox8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox8);
  gtk_box_pack_start (GTK_BOX (vbox13), hbox8, TRUE, TRUE, 0);

  label23 = gtk_label_new ("");
  gtk_widget_ref (label23);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label23", label23,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label23);
  gtk_box_pack_start (GTK_BOX (hbox8), label23, TRUE, TRUE, 0);

  label21 = gtk_label_new (_("density "));
  gtk_widget_ref (label21);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label21", label21,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label21);
  gtk_box_pack_start (GTK_BOX (hbox8), label21, FALSE, FALSE, 0);

  spinbutton6_adj = gtk_adjustment_new (10, 5, 100, 1, 10, 10);
  spinbutton6 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton6_adj), 1, 0);
  gtk_widget_ref (spinbutton6);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "spinbutton6", spinbutton6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (spinbutton6);
  gtk_box_pack_start (GTK_BOX (hbox8), spinbutton6, FALSE, FALSE, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton6), TRUE);

  label24 = gtk_label_new ("");
  gtk_widget_ref (label24);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label24", label24,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label24);
  gtk_box_pack_start (GTK_BOX (hbox8), label24, TRUE, TRUE, 0);

  label22 = gtk_label_new (_("alter average pixel value +/-"));
  gtk_widget_ref (label22);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label22", label22,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label22);
  gtk_box_pack_start (GTK_BOX (hbox8), label22, FALSE, FALSE, 0);

  spinbutton7_adj = gtk_adjustment_new (1.2, 0.1, 2, 0.1, 0.1, 0.1);
  spinbutton7 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton7_adj), 0.1, 1);
  gtk_widget_ref (spinbutton7);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "spinbutton7", spinbutton7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (spinbutton7);
  gtk_box_pack_start (GTK_BOX (hbox8), spinbutton7, FALSE, FALSE, 0);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton7), TRUE);

  hseparator5 = gtk_hseparator_new ();
  gtk_widget_ref (hseparator5);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "hseparator5", hseparator5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hseparator5);
  gtk_box_pack_start (GTK_BOX (vbox11), hseparator5, FALSE, FALSE, 10);

  hbox7 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox7);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "hbox7", hbox7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox7);
  gtk_box_pack_start (GTK_BOX (vbox11), hbox7, FALSE, FALSE, 0);

  label20 = gtk_label_new (_("do you want to see checkers on this, too?  ( if supported )"));
  gtk_widget_ref (label20);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label20", label20,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label20);
  gtk_box_pack_start (GTK_BOX (hbox7), label20, FALSE, FALSE, 0);

  prefsimagebgcheckbutton1 = gtk_check_button_new_with_label (_("yepp!"));
  gtk_widget_ref (prefsimagebgcheckbutton1);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimagebgcheckbutton1", prefsimagebgcheckbutton1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimagebgcheckbutton1);
  gtk_box_pack_start (GTK_BOX (hbox7), prefsimagebgcheckbutton1, TRUE, FALSE, 0);

  label16 = gtk_label_new (_("transparency and background"));
  gtk_widget_ref (label16);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label16", label16,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label16);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 1), label16);

  prefsimageframe3 = gtk_frame_new (_("other stuff"));
  gtk_widget_ref (prefsimageframe3);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimageframe3", prefsimageframe3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimageframe3);
  gtk_container_add (GTK_CONTAINER (notebook1), prefsimageframe3);
  gtk_container_set_border_width (GTK_CONTAINER (prefsimageframe3), 5);
  gtk_frame_set_label_align (GTK_FRAME (prefsimageframe3), 0.5, 0.5);

  table2 = gtk_table_new (8, 2, FALSE);
  gtk_widget_ref (table2);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "table2", table2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table2);
  gtk_container_add (GTK_CONTAINER (prefsimageframe3), table2);
  gtk_container_set_border_width (GTK_CONTAINER (table2), 5);

  hseparator1 = gtk_hseparator_new ();
  gtk_widget_ref (hseparator1);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "hseparator1", hseparator1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hseparator1);
  gtk_table_attach (GTK_TABLE (table2), hseparator1, 0, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 5);

  hseparator2 = gtk_hseparator_new ();
  gtk_widget_ref (hseparator2);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "hseparator2", hseparator2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hseparator2);
  gtk_table_attach (GTK_TABLE (table2), hseparator2, 0, 2, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 5);

  spinbutton5_adj = gtk_adjustment_new (1, 0, 2, 0.01, 10, 10);
  spinbutton5 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton5_adj), 0.01, 2);
  gtk_widget_ref (spinbutton5);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "spinbutton5", spinbutton5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (spinbutton5);
  gtk_table_attach (GTK_TABLE (table2), spinbutton5, 1, 2, 4, 5,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_usize (spinbutton5, 50, -2);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (spinbutton5), TRUE);

  prefsimagecheckbutton2 = gtk_check_button_new_with_label (_("Yes, darken\nthe borders!"));
  gtk_widget_ref (prefsimagecheckbutton2);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimagecheckbutton2", prefsimagecheckbutton2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimagecheckbutton2);
  gtk_table_attach (GTK_TABLE (table2), prefsimagecheckbutton2, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  hseparator7 = gtk_hseparator_new ();
  gtk_widget_ref (hseparator7);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "hseparator7", hseparator7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hseparator7);
  gtk_table_attach (GTK_TABLE (table2), hseparator7, 0, 2, 5, 6,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  prefsimagecheckbutton3 = gtk_check_button_new_with_label (_("Yes, hide statusbar"));
  gtk_widget_ref (prefsimagecheckbutton3);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimagecheckbutton3", prefsimagecheckbutton3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimagecheckbutton3);
  gtk_table_attach (GTK_TABLE (table2), prefsimagecheckbutton3, 1, 2, 6, 7,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (prefsimagecheckbutton3), TRUE);

  prefsimagecheckbutton4 = gtk_check_button_new_with_label (_("Yes, while loading"));
  gtk_widget_ref (prefsimagecheckbutton4);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimagecheckbutton4", prefsimagecheckbutton4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimagecheckbutton4);
  gtk_table_attach (GTK_TABLE (table2), prefsimagecheckbutton4, 1, 2, 7, 8,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  label36 = gtk_label_new (_("hide statusbar where image details are displayed? \n( when in fullscreen-mode )"));
  gtk_widget_ref (label36);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label36", label36,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label36);
  gtk_table_attach (GTK_TABLE (table2), label36, 0, 1, 6, 7,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_SHRINK | GTK_FILL), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label36), GTK_JUSTIFY_LEFT);
  gtk_misc_set_alignment (GTK_MISC (label36), 0, 0.5);

  label37 = gtk_label_new (_("but show up while loading?"));
  gtk_widget_ref (label37);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label37", label37,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label37);
  gtk_table_attach (GTK_TABLE (table2), label37, 0, 1, 7, 8,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_SHRINK | GTK_FILL), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label37), GTK_JUSTIFY_LEFT);
  gtk_misc_set_alignment (GTK_MISC (label37), 0, 0.5);

  prefsimagelabel1 = gtk_label_new (_("if you don't activate background coloration explicitly, should the background color be guessed automatically? (FIXME / only some colors are guessed right)"));
  gtk_widget_ref (prefsimagelabel1);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimagelabel1", prefsimagelabel1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimagelabel1);
  gtk_table_attach (GTK_TABLE (table2), prefsimagelabel1, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_SHRINK | GTK_FILL), 0, 0);
  gtk_widget_set_usize (prefsimagelabel1, 394, -2);
  gtk_label_set_justify (GTK_LABEL (prefsimagelabel1), GTK_JUSTIFY_LEFT);
  gtk_label_set_line_wrap (GTK_LABEL (prefsimagelabel1), TRUE);
  gtk_misc_set_alignment (GTK_MISC (prefsimagelabel1), 0, 0.5);

  prefsimagecheckbutton1 = gtk_check_button_new_with_label (_("Yes, please try!"));
  gtk_widget_ref (prefsimagecheckbutton1);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimagecheckbutton1", prefsimagecheckbutton1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimagecheckbutton1);
  gtk_table_attach (GTK_TABLE (table2), prefsimagecheckbutton1, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_SHRINK), 0, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (prefsimagecheckbutton1), TRUE);

  label13 = gtk_label_new (_("fade out borders around image?"));
  gtk_widget_ref (label13);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label13", label13,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label13);
  gtk_table_attach (GTK_TABLE (table2), label13, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_SHRINK | GTK_FILL), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label13), GTK_JUSTIFY_LEFT);
  gtk_misc_set_alignment (GTK_MISC (label13), 0, 0.5);

  label14 = gtk_label_new (_("how fast should the color fade to grey, when you select\na color in the color-selection-dialog? a 1 is normal.\neverything to 0 is faster and above 1 slower."));
  gtk_widget_ref (label14);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label14", label14,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label14);
  gtk_table_attach (GTK_TABLE (table2), label14, 0, 1, 4, 5,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_SHRINK | GTK_FILL), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label14), GTK_JUSTIFY_LEFT);
  gtk_misc_set_alignment (GTK_MISC (label14), 0, 0.5);

  label17 = gtk_label_new (_("misc"));
  gtk_widget_ref (label17);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label17", label17,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label17);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 2), label17);

  prefsimagereload = gtk_button_new_with_label (_("redraw image"));
  gtk_widget_ref (prefsimagereload);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsimagereload", prefsimagereload,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsimagereload);
  gtk_table_attach (GTK_TABLE (prefstable2), prefsimagereload, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (prefsimagereload), 5);
  gtk_widget_set_sensitive (prefsimagereload, FALSE);
  gtk_tooltips_set_tip (tooltips, prefsimagereload, _("click here if you want to see the changes"), NULL);

  prefslabel2 = gtk_label_new (_("image viewer"));
  gtk_widget_ref (prefslabel2);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefslabel2", prefslabel2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefslabel2);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (prefsmainnotebook), gtk_notebook_get_nth_page (GTK_NOTEBOOK (prefsmainnotebook), 1), prefslabel2);

  prefstable3 = gtk_table_new (5, 1, FALSE);
  gtk_widget_ref (prefstable3);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefstable3", prefstable3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefstable3);
  gtk_container_add (GTK_CONTAINER (prefsmainnotebook), prefstable3);
  gtk_container_set_border_width (GTK_CONTAINER (prefstable3), 5);

  frame8 = gtk_frame_new (_("where to save your thumbnails"));
  gtk_widget_ref (frame8);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "frame8", frame8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame8);
  gtk_table_attach (GTK_TABLE (prefstable3), frame8, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame8), 5);
  gtk_frame_set_label_align (GTK_FRAME (frame8), 0.5, 0.5);

  table6 = gtk_table_new (3, 3, FALSE);
  gtk_widget_ref (table6);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "table6", table6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table6);
  gtk_container_add (GTK_CONTAINER (frame8), table6);
  gtk_container_set_border_width (GTK_CONTAINER (table6), 5);

  hseparator6 = gtk_hseparator_new ();
  gtk_widget_ref (hseparator6);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "hseparator6", hseparator6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hseparator6);
  gtk_table_attach (GTK_TABLE (table6), hseparator6, 0, 3, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 10);

  prefsthumbradiobutton6 = gtk_radio_button_new_with_label (thumbsaveoption_group, "");
  thumbsaveoption_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefsthumbradiobutton6));
  gtk_widget_ref (prefsthumbradiobutton6);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsthumbradiobutton6", prefsthumbradiobutton6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsthumbradiobutton6);
  gtk_table_attach (GTK_TABLE (table6), prefsthumbradiobutton6, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK), 0, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (prefsthumbradiobutton6), TRUE);

  prefsthumbradiobutton5 = gtk_radio_button_new_with_label (thumbsaveoption_group, "");
  thumbsaveoption_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefsthumbradiobutton5));
  gtk_widget_ref (prefsthumbradiobutton5);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsthumbradiobutton5", prefsthumbradiobutton5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsthumbradiobutton5);
  gtk_table_attach (GTK_TABLE (table6), prefsthumbradiobutton5, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK), 0, 0);

  label27 = gtk_label_new (_("relative to your rc-file-directory ( if you choose\nto save them into the main rc-dir )"));
  gtk_widget_ref (label27);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label27", label27,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label27);
  gtk_table_attach (GTK_TABLE (table6), label27, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label27), 0, 0.5);

  label28 = gtk_label_new (_("relative to the current directory ( if you choose\nto save them into the dir where the pics are )"));
  gtk_widget_ref (label28);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "label28", label28,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label28);
  gtk_table_attach (GTK_TABLE (table6), label28, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label28), 0, 0.5);

  prefsthumbentry2 = gtk_entry_new ();
  gtk_widget_ref (prefsthumbentry2);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsthumbentry2", prefsthumbentry2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsthumbentry2);
  gtk_table_attach (GTK_TABLE (table6), prefsthumbentry2, 2, 3, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_entry_set_text (GTK_ENTRY (prefsthumbentry2), _(".thumbnails"));

  prefsthumbentry1 = gtk_entry_new ();
  gtk_widget_ref (prefsthumbentry1);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsthumbentry1", prefsthumbentry1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsthumbentry1);
  gtk_table_attach (GTK_TABLE (table6), prefsthumbentry1, 2, 3, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_entry_set_text (GTK_ENTRY (prefsthumbentry1), _("thumbnails"));

  frame6 = gtk_frame_new (_("choose render quality / interpolation  ( speed vs quality )"));
  gtk_widget_ref (frame6);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "frame6", frame6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame6);
  gtk_table_attach (GTK_TABLE (prefstable3), frame6, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame6), 5);
  gtk_frame_set_label_align (GTK_FRAME (frame6), 0.5, 0.5);

  vbox14 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox14);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "vbox14", vbox14,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox14);
  gtk_container_add (GTK_CONTAINER (frame6), vbox14);
  gtk_container_set_border_width (GTK_CONTAINER (vbox14), 5);

  prefsthumbradiobutton1 = gtk_radio_button_new_with_label (thumbrenderquality_group, _("nearest (fastest / worst)"));
  thumbrenderquality_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefsthumbradiobutton1));
  gtk_widget_ref (prefsthumbradiobutton1);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsthumbradiobutton1", prefsthumbradiobutton1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsthumbradiobutton1);
  gtk_box_pack_start (GTK_BOX (vbox14), prefsthumbradiobutton1, FALSE, FALSE, 0);

  prefsthumbradiobutton2 = gtk_radio_button_new_with_label (thumbrenderquality_group, _("tiles"));
  thumbrenderquality_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefsthumbradiobutton2));
  gtk_widget_ref (prefsthumbradiobutton2);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsthumbradiobutton2", prefsthumbradiobutton2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsthumbradiobutton2);
  gtk_box_pack_start (GTK_BOX (vbox14), prefsthumbradiobutton2, FALSE, FALSE, 0);

  prefsthumbradiobutton3 = gtk_radio_button_new_with_label (thumbrenderquality_group, _("bilinear (normal)"));
  thumbrenderquality_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefsthumbradiobutton3));
  gtk_widget_ref (prefsthumbradiobutton3);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsthumbradiobutton3", prefsthumbradiobutton3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsthumbradiobutton3);
  gtk_box_pack_start (GTK_BOX (vbox14), prefsthumbradiobutton3, FALSE, FALSE, 0);

  prefsthumbradiobutton4 = gtk_radio_button_new_with_label (thumbrenderquality_group, _("hyper (slowest / superb but not always right)"));
  thumbrenderquality_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefsthumbradiobutton4));
  gtk_widget_ref (prefsthumbradiobutton4);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsthumbradiobutton4", prefsthumbradiobutton4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsthumbradiobutton4);
  gtk_box_pack_start (GTK_BOX (vbox14), prefsthumbradiobutton4, FALSE, FALSE, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (prefsthumbradiobutton4), TRUE);

  prefslabel3 = gtk_label_new (_("thumbnails"));
  gtk_widget_ref (prefslabel3);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefslabel3", prefslabel3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefslabel3);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (prefsmainnotebook), gtk_notebook_get_nth_page (GTK_NOTEBOOK (prefsmainnotebook), 2), prefslabel3);

  prefsnotice = gtk_label_new (_("notice: everything you change here will take affect immediately! it really depends on what routine it belongs to and what you do :) don't forget to save!"));
  gtk_widget_ref (prefsnotice);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsnotice", prefsnotice,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsnotice);
  gtk_box_pack_start (GTK_BOX (prefsmainbox), prefsnotice, TRUE, TRUE, 5);
  gtk_widget_set_usize (prefsnotice, 547, -2);
  gtk_label_set_justify (GTK_LABEL (prefsnotice), GTK_JUSTIFY_FILL);
  gtk_label_set_line_wrap (GTK_LABEL (prefsnotice), TRUE);

  prefsclosebutton = gtk_button_new_with_label (_("close"));
  gtk_widget_ref (prefsclosebutton);
  gtk_object_set_data_full (GTK_OBJECT (prefswindow), "prefsclosebutton", prefsclosebutton,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefsclosebutton);
  gtk_box_pack_start (GTK_BOX (prefsmainbox), prefsclosebutton, FALSE, FALSE, 0);
  gtk_tooltips_set_tip (tooltips, prefsclosebutton, _("click here to close the settings window"), NULL);

  gtk_signal_connect_object (GTK_OBJECT (prefswindow), "delete_event",
                             GTK_SIGNAL_FUNC (gtk_widget_hide),
                             GTK_OBJECT (prefswindow));
  gtk_signal_connect_object (GTK_OBJECT (prefswindow), "destroy_event",
                             GTK_SIGNAL_FUNC (gtk_widget_hide),
                             GTK_OBJECT (prefswindow));
  gtk_signal_connect (GTK_OBJECT (prefsmainentry1), "activate",
                      GTK_SIGNAL_FUNC (on_prefsmainentry1_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefsmainentry2), "activate",
                      GTK_SIGNAL_FUNC (on_prefsmainentry2_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefsmaintogglebutton1), "toggled",
                      GTK_SIGNAL_FUNC (on_prefsmaintogglebutton1_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefsimageradiobutton1), "toggled",
                      GTK_SIGNAL_FUNC (on_prefsimageradiobutton1_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefsimageradiobutton2), "toggled",
                      GTK_SIGNAL_FUNC (on_prefsimageradiobutton2_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefsimageradiobutton3), "toggled",
                      GTK_SIGNAL_FUNC (on_prefsimageradiobutton3_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefsimageradiobutton4), "toggled",
                      GTK_SIGNAL_FUNC (on_prefsimageradiobutton4_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefsimagereload), "clicked",
                      GTK_SIGNAL_FUNC (on_prefsimagereload_clicked),
                      prefswindow);
  gtk_signal_connect (GTK_OBJECT (prefsthumbradiobutton6), "toggled",
                      GTK_SIGNAL_FUNC (on_prefsthumbradiobutton6_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefsthumbradiobutton5), "toggled",
                      GTK_SIGNAL_FUNC (on_prefsthumbradiobutton5_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefsthumbentry2), "activate",
                      GTK_SIGNAL_FUNC (on_prefsthumbentry2_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefsthumbentry1), "activate",
                      GTK_SIGNAL_FUNC (on_prefsthumbentry1_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefsthumbradiobutton1), "toggled",
                      GTK_SIGNAL_FUNC (on_prefsthumbradiobutton1_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefsthumbradiobutton2), "toggled",
                      GTK_SIGNAL_FUNC (on_prefsthumbradiobutton2_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefsthumbradiobutton3), "toggled",
                      GTK_SIGNAL_FUNC (on_prefsthumbradiobutton3_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefsthumbradiobutton4), "toggled",
                      GTK_SIGNAL_FUNC (on_prefsthumbradiobutton4_toggled),
                      NULL);
  gtk_signal_connect_object (GTK_OBJECT (prefsclosebutton), "clicked",
                             GTK_SIGNAL_FUNC (gtk_widget_hide),
                             GTK_OBJECT (prefswindow));

  gtk_object_set_data (GTK_OBJECT (prefswindow), "tooltips", tooltips);

  return prefswindow;
}

GtkWidget*
create_colorselectiondialog1 (void)
{
  GtkWidget *colorselectiondialog1;
  GtkWidget *bgcolorok_button1;
  GtkWidget *bgcolorcancel_button1;
  GtkWidget *bgcolorhelp_button1;

  colorselectiondialog1 = gtk_color_selection_dialog_new (_("choose background color"));
  gtk_object_set_data (GTK_OBJECT (colorselectiondialog1), "colorselectiondialog1", colorselectiondialog1);
  gtk_container_set_border_width (GTK_CONTAINER (colorselectiondialog1), 10);
  GTK_WINDOW (colorselectiondialog1)->type = GTK_WINDOW_DIALOG;
  gtk_window_set_position (GTK_WINDOW (colorselectiondialog1), GTK_WIN_POS_MOUSE);
  gtk_window_set_policy (GTK_WINDOW (colorselectiondialog1), FALSE, FALSE, TRUE);

  bgcolorok_button1 = GTK_COLOR_SELECTION_DIALOG (colorselectiondialog1)->ok_button;
  gtk_object_set_data (GTK_OBJECT (colorselectiondialog1), "bgcolorok_button1", bgcolorok_button1);
  gtk_widget_show (bgcolorok_button1);
  GTK_WIDGET_SET_FLAGS (bgcolorok_button1, GTK_CAN_DEFAULT);

  bgcolorcancel_button1 = GTK_COLOR_SELECTION_DIALOG (colorselectiondialog1)->cancel_button;
  gtk_object_set_data (GTK_OBJECT (colorselectiondialog1), "bgcolorcancel_button1", bgcolorcancel_button1);
  gtk_widget_show (bgcolorcancel_button1);
  GTK_WIDGET_SET_FLAGS (bgcolorcancel_button1, GTK_CAN_DEFAULT);

  bgcolorhelp_button1 = GTK_COLOR_SELECTION_DIALOG (colorselectiondialog1)->help_button;
  gtk_object_set_data (GTK_OBJECT (colorselectiondialog1), "bgcolorhelp_button1", bgcolorhelp_button1);
  GTK_WIDGET_SET_FLAGS (bgcolorhelp_button1, GTK_CAN_DEFAULT);

  gtk_signal_connect_object (GTK_OBJECT (colorselectiondialog1), "delete_event",
                             GTK_SIGNAL_FUNC (gtk_widget_hide),
                             GTK_OBJECT (colorselectiondialog1));
  gtk_signal_connect_object (GTK_OBJECT (colorselectiondialog1), "destroy_event",
                             GTK_SIGNAL_FUNC (gtk_widget_hide),
                             GTK_OBJECT (colorselectiondialog1));
  gtk_signal_connect (GTK_OBJECT (bgcolorok_button1), "clicked",
                      GTK_SIGNAL_FUNC (on_bgcolorok_button1_clicked),
                      NULL);
  gtk_signal_connect_object (GTK_OBJECT (bgcolorcancel_button1), "clicked",
                             GTK_SIGNAL_FUNC (gtk_widget_hide),
                             GTK_OBJECT (colorselectiondialog1));

  return colorselectiondialog1;
}

GtkWidget*
create_fullscreenwindow (void)
{
  GtkWidget *fullscreenwindow;
  GtkWidget *fullscreenbox;
  GtkWidget *scrolledwindow6;
  GtkWidget *viewport1;
  GtkWidget *image;
  GtkWidget *appbarbox;
  GtkWidget *appbar2;
  GtkWidget *progressbar1;

  fullscreenwindow = gtk_window_new (GTK_WINDOW_POPUP);
  gtk_object_set_data (GTK_OBJECT (fullscreenwindow), "fullscreenwindow", fullscreenwindow);
  gtk_window_set_title (GTK_WINDOW (fullscreenwindow), _("Look at the stars in fullscreen-mode"));
  gtk_window_set_position (GTK_WINDOW (fullscreenwindow), GTK_WIN_POS_CENTER);

  fullscreenbox = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (fullscreenbox);
  gtk_object_set_data_full (GTK_OBJECT (fullscreenwindow), "fullscreenbox", fullscreenbox,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (fullscreenbox);
  gtk_container_add (GTK_CONTAINER (fullscreenwindow), fullscreenbox);

  scrolledwindow6 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow6);
  gtk_object_set_data_full (GTK_OBJECT (fullscreenwindow), "scrolledwindow6", scrolledwindow6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow6);
  gtk_box_pack_start (GTK_BOX (fullscreenbox), scrolledwindow6, TRUE, TRUE, 0);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow6), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  viewport1 = gtk_viewport_new (NULL, NULL);
  gtk_widget_ref (viewport1);
  gtk_object_set_data_full (GTK_OBJECT (fullscreenwindow), "viewport1", viewport1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (viewport1);
  gtk_container_add (GTK_CONTAINER (scrolledwindow6), viewport1);
  gtk_viewport_set_shadow_type (GTK_VIEWPORT (viewport1), GTK_SHADOW_NONE);

  image = create_pixmap (fullscreenwindow, NULL, FALSE);
  gtk_widget_ref (image);
  gtk_object_set_data_full (GTK_OBJECT (fullscreenwindow), "image", image,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (image);
  gtk_container_add (GTK_CONTAINER (viewport1), image);
  gtk_pixmap_set_build_insensitive (GTK_PIXMAP (image), FALSE);

  appbarbox = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (appbarbox);
  gtk_object_set_data_full (GTK_OBJECT (fullscreenwindow), "appbarbox", appbarbox,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (appbarbox);
  gtk_box_pack_start (GTK_BOX (fullscreenbox), appbarbox, FALSE, TRUE, 0);

  appbar2 = gnome_appbar_new (TRUE, TRUE, GNOME_PREFERENCES_NEVER);
  gtk_widget_ref (appbar2);
  gtk_object_set_data_full (GTK_OBJECT (fullscreenwindow), "appbar2", appbar2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (appbar2);
  gtk_box_pack_start (GTK_BOX (appbarbox), appbar2, TRUE, TRUE, 0);

  progressbar1 = gtk_progress_bar_new ();
  gtk_widget_ref (progressbar1);
  gtk_object_set_data_full (GTK_OBJECT (fullscreenwindow), "progressbar1", progressbar1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (progressbar1);
  gtk_box_pack_start (GTK_BOX (appbarbox), progressbar1, FALSE, FALSE, 0);
  gtk_progress_configure (GTK_PROGRESS (progressbar1), 0, 0, 0);
  gtk_progress_set_show_text (GTK_PROGRESS (progressbar1), TRUE);
  gtk_progress_set_format_string (GTK_PROGRESS (progressbar1), _("image %V of %U"));

  gtk_signal_connect_object (GTK_OBJECT (fullscreenwindow), "delete_event",
                             GTK_SIGNAL_FUNC (gtk_widget_hide),
                             GTK_OBJECT (fullscreenwindow));
  gtk_signal_connect_object (GTK_OBJECT (fullscreenwindow), "destroy_event",
                             GTK_SIGNAL_FUNC (gtk_widget_hide),
                             GTK_OBJECT (fullscreenwindow));
  gtk_signal_connect (GTK_OBJECT (fullscreenwindow), "hide",
                      GTK_SIGNAL_FUNC (on_fullscreenwindow_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (fullscreenwindow), "show",
                      GTK_SIGNAL_FUNC (on_fullscreenwindow_show),
                      NULL);
  gtk_signal_connect_object (GTK_OBJECT (scrolledwindow6), "button_press_event",
                             GTK_SIGNAL_FUNC (gtk_widget_hide),
                             GTK_OBJECT (fullscreenwindow));
  gtk_signal_connect (GTK_OBJECT (scrolledwindow6), "size_allocate",
                      GTK_SIGNAL_FUNC (on_scrolledwindow6_size_allocate),
                      fullscreenwindow);

  return fullscreenwindow;
}

GtkWidget*
create_shutdownwindow (void)
{
  GtkWidget *shutdownwindow;
  GtkWidget *packer2;
  GtkWidget *vbox15;
  GtkWidget *label38;
  GtkWidget *progressbar2;

  shutdownwindow = gtk_window_new (GTK_WINDOW_DIALOG);
  gtk_object_set_data (GTK_OBJECT (shutdownwindow), "shutdownwindow", shutdownwindow);
  gtk_window_set_title (GTK_WINDOW (shutdownwindow), _("Wait a moment..."));
  gtk_window_set_position (GTK_WINDOW (shutdownwindow), GTK_WIN_POS_CENTER);
  gtk_window_set_policy (GTK_WINDOW (shutdownwindow), FALSE, TRUE, TRUE);

  packer2 = gtk_packer_new ();
  gtk_widget_ref (packer2);
  gtk_object_set_data_full (GTK_OBJECT (shutdownwindow), "packer2", packer2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (packer2);
  gtk_container_add (GTK_CONTAINER (shutdownwindow), packer2);

  vbox15 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox15);
  gtk_object_set_data_full (GTK_OBJECT (shutdownwindow), "vbox15", vbox15,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox15);
  gtk_packer_add_defaults (GTK_PACKER (packer2), vbox15, GTK_SIDE_TOP,
                           GTK_ANCHOR_CENTER, (GtkPackerOptions) (GTK_PACK_EXPAND | GTK_FILL_X | GTK_FILL_Y));
  gtk_container_set_border_width (GTK_CONTAINER (vbox15), 20);

  label38 = gtk_label_new (_("shutting down server threads..."));
  gtk_widget_ref (label38);
  gtk_object_set_data_full (GTK_OBJECT (shutdownwindow), "label38", label38,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label38);
  gtk_box_pack_start (GTK_BOX (vbox15), label38, TRUE, TRUE, 5);

  progressbar2 = gtk_progress_bar_new ();
  gtk_widget_ref (progressbar2);
  gtk_object_set_data_full (GTK_OBJECT (shutdownwindow), "progressbar2", progressbar2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (progressbar2);
  gtk_box_pack_start (GTK_BOX (vbox15), progressbar2, TRUE, TRUE, 5);
  gtk_progress_configure (GTK_PROGRESS (progressbar2), 50, 0, 100);
  gtk_progress_set_show_text (GTK_PROGRESS (progressbar2), TRUE);

  return shutdownwindow;
}

